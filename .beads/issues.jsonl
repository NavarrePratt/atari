{"id":"atari-2zi","title":"Test new atari prefix","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:09:38.377671Z","created_by":"npratt","updated_at":"2026-01-20T21:09:44.830261Z","closed_at":"2026-01-20T21:09:44.830218Z","close_reason":"Test bead - verified br working with atari prefix","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-15x","title":"Add integration tests for top-level selection","description":"# Description\nAdd integration tests that verify the top-level selection mode works correctly in realistic multi-epic scenarios.\n\n# Technical Approach\n1. Test scenarios:\n   - Multiple epics with different priorities\n   - Mix of epics and standalone beads\n   - Epic exhaustion and switch to next\n   - Eager switch behavior when enabled\n   - Resume after restart with persisted active top-level\n   - --epic flag overriding selection mode\n\n2. Test structure:\n   - Use existing integration test patterns in internal/integration/\n   - Mock br commands for consistent bead graphs\n   - Verify correct selection order\n\n# Key Files\n- internal/integration/selection_test.go (new)\n- internal/integration/ - existing integration test patterns\n\n# Acceptance Criteria\n- [ ] Tests cover multi-epic priority ordering\n- [ ] Tests cover standalone bead handling\n- [ ] Tests cover exhaustion and switching\n- [ ] Tests cover eager_switch behavior\n- [ ] Tests cover state persistence across restart\n- [ ] Tests verify --epic takes precedence\n\n# Verification\n- [ ] `mise run test` passes\n- [ ] New tests provide meaningful coverage\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:05:33.070462Z","created_by":"npratt","updated_at":"2026-01-21T13:54:33.600840Z","closed_at":"2026-01-21T13:54:33.600773Z","close_reason":"Added comprehensive integration tests for top-level selection mode covering multi-epic priority ordering, standalone bead handling, exhaustion and switching, eager_switch behavior, state persistence, and epic flag precedence. All tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-15x","depends_on_id":"bd-199","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-15x","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-15x","depends_on_id":"bd-3iw","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-199","title":"Extend events and TUI for top-level display","description":"# Description\nExtend IterationStartEvent with top-level context and update the TUI to show active top-level item in status line and highlight in graph.\n\n# Technical Approach\n1. Event extension (internal/events/types.go):\n   - Add TopLevelID and TopLevelTitle fields to IterationStartEvent\n   - Update event creation in controller\n\n2. TUI status line (internal/tui/):\n   - Add active top-level item to status line display\n   - Format: \"Epic: bd-xxx - Title\" or \"Standalone: bd-xxx - Title\"\n   - Show when selection_mode is \"top-level\"\n\n3. TUI graph highlighting (internal/tui/):\n   - Highlight the active top-level item's subtree in bead graph\n   - Use distinct color/style for active subtree vs other beads\n   - Clear highlight when top-level changes\n\n# Key Files\n- internal/events/types.go - event struct changes\n- internal/controller/controller.go - emit updated events\n- internal/tui/model.go - status line update\n- internal/tui/graph.go - highlight logic (if graph rendering exists)\n\n# Acceptance Criteria\n- [ ] IterationStartEvent includes TopLevelID/TopLevelTitle\n- [ ] TUI status line shows active top-level item\n- [ ] TUI graph highlights active subtree (if graph view exists)\n- [ ] Display updates when top-level changes\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] Manual TUI verification shows correct display\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:05:03.371964Z","created_by":"npratt","updated_at":"2026-01-21T13:45:57.815943Z","closed_at":"2026-01-21T13:45:57.815898Z","close_reason":"Implemented top-level display in TUI: Added TopLevelID/TopLevelTitle fields to IterationStartEvent, updated controller to emit these fields, added activeTopLevelID/Title tracking to TUI model, displays active top-level in status line when selection_mode=top-level, and highlights active subtree in graph view by dimming nodes outside the subtree. All tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-199","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-199","depends_on_id":"bd-btd","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-1a8","title":"Top-level selection mode for atari","description":"# Description\nAdd a \"top-level\" selection mode to atari that prioritizes work at the root level of the ownership graph. Instead of picking beads globally by priority, atari selects the highest-priority top-level item (epic or standalone bead) and completes all its ready work before moving to the next.\n\n# Key Decisions\n| Decision | Choice |\n|----------|--------|\n| Default mode | top-level (not global) |\n| Top-level includes | Epics AND standalone beads |\n| Priority source | Item's own priority field |\n| On exhaustion | Clear active, re-select all |\n| On all complete | Auto-close epic, move on |\n| --epic interaction | --epic takes precedence |\n| Persistence | Yes, verify on resume |\n| Eager switch default | false (complete before switching) |\n\n# Children\n- bd-308: Config options\n- bd-3cc: Workqueue selection logic\n- bd-btd: State persistence and controller integration\n- bd-199: Events and TUI display\n- bd-3iw: Init skills for epic priority guidance\n- bd-15x: Integration tests\n- bd-1h9: Final verification","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-20T23:06:01.045389Z","created_by":"npratt","updated_at":"2026-01-21T13:57:58.649914Z","closed_at":"2026-01-21T13:57:58.649875Z","close_reason":"All children complete: config options (bd-308), workqueue selection logic (bd-3cc), state persistence and controller integration (bd-btd), events and TUI display (bd-199), init skills for epic priority guidance (bd-3iw), integration tests (bd-15x), and final verification (bd-1h9). Top-level selection mode is fully implemented and verified.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1bu","title":"Add end-to-end tests for enrichment flow","description":"# Overview\nAdd tests that exercise the complete enrichment pipeline with realistic fixtures, including partial and total failure scenarios.\n\n# Problem\nCurrent tests either:\n1. Use mockFetcher that returns pre-enriched data (bypasses enrichment)\n2. Use fixtures that include dependencies br list does not provide\n3. Do not test what happens when enrichment fails\n\n# Implementation\n\n## New Tests (fetcher_test.go)\n\n1. TestBDFetcher_FetchActive_EnrichmentFlow\n   - Setup: br list returns unenriched data (GraphListActiveJSON)\n   - Setup: br show returns enriched data for each bead\n   - Verify: dependencies populated after FetchActive\n   - Verify: hierarchy edges can be extracted\n\n2. TestBDFetcher_FetchActive_PartialEnrichmentFailure\n   - Setup: br list returns 3 beads\n   - Setup: br show fails for 1 bead, succeeds for 2\n   - Verify: 2 beads have dependencies, 1 uses basic data\n   - Verify: partial hierarchy visible\n\n3. TestBDFetcher_FetchActive_TotalEnrichmentFailure\n   - Setup: br list returns beads\n   - Setup: br show fails for ALL beads\n   - Verify: WARN logged with failure count\n   - Verify: graph still displays (flat, but functional)\n\n4. TestBDFetcher_FetchActive_ContextCancellationMidEnrichment\n   - Setup: br list succeeds\n   - Setup: cancel context after first br show\n   - Verify: returns error promptly\n   - Verify: no goroutine leaks\n\n## Test Pattern\n\nfunc TestBDFetcher_FetchActive_EnrichmentFlow(t *testing.T) {\n    runner := testutil.NewMockRunner()\n    runner.SetResponse(\"br\", []string{\"list\", \"--json\"}, []byte(testutil.GraphListActiveJSON))\n    testutil.SetupMockEnrichment(runner, testutil.GraphShowFixtures)\n    \n    fetcher := NewBDFetcher(runner)\n    beads, err := fetcher.FetchActive(context.Background())\n    \n    require.NoError(t, err)\n    // Verify enrichment populated dependencies\n    for _, bead := range beads {\n        if bead.ID == \"bd-task-001\" {\n            require.NotEmpty(t, bead.Dependencies)\n        }\n    }\n}\n\n# Acceptance Criteria\n- Tests exercise real enrichment code path\n- Partial failure scenario tested\n- Total failure scenario tested\n- Context cancellation tested\n- Tests use realistic fixtures from Issue 3\n\n# Dependencies\n- Requires Issue 3 (realistic fixtures)\n- Requires Issue 4 (Parent fallback) for proper hierarchy verification\n\n# Verification\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:15:05.104884Z","created_by":"npratt","updated_at":"2026-01-28T02:17:33.203837Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1bu","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:16.931252Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-1f6","title":"Run full test suite for hierarchy visualization fixes","description":"# Overview\nFinal verification issue to run the complete test suite after all hierarchy visualization fixes are implemented.\n\n# Purpose\nVerify all changes work together correctly and no regressions were introduced.\n\n# Verification Steps\n\n1. Run lint check:\n   mise run lint\n\n2. Run unit tests:\n   mise run test\n\n3. Run tests with race detector:\n   go test -race ./internal/tui/...\n\n4. Run integration tests:\n   go test -v ./internal/integration/...\n\n5. Manual verification:\n   - Start atari TUI\n   - Verify hierarchy appears correctly with parent-child relationships\n   - Verify collapse/expand works\n   - Verify tree glyphs display correctly\n\n# Acceptance Criteria\n- All lint checks pass\n- All unit tests pass\n- No race conditions detected\n- Integration tests pass\n- Manual verification confirms hierarchy displays correctly\n\n# Dependencies\nThis issue should only be worked after ALL implementation issues are complete:\n- bd-2kk: Upgrade enrichment failure logging\n- bd-gk3: Fix enrichment race condition\n- bd-3gn: Create realistic test fixtures\n- bd-nqi: Fix Parent field fallback\n- bd-1bu: Add E2E enrichment tests\n- bd-9lb: Add structural hierarchy tests\n- bd-1i9: Add context check in fetchOutOfViewDeps","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:15:47.843517Z","created_by":"npratt","updated_at":"2026-01-28T02:17:35.636237Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1f6","depends_on_id":"bd-1bu","type":"blocks","created_at":"2026-01-28T02:16:51.807791Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-1i9","type":"blocks","created_at":"2026-01-28T02:16:54.056853Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:20.765344Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-2kk","type":"blocks","created_at":"2026-01-28T02:16:47.841322Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-3gn","type":"blocks","created_at":"2026-01-28T02:16:49.876817Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-9lb","type":"blocks","created_at":"2026-01-28T02:16:53.102029Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-gk3","type":"blocks","created_at":"2026-01-28T02:16:49.110570Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-1f6","depends_on_id":"bd-nqi","type":"blocks","created_at":"2026-01-28T02:16:50.648926Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-1h9","title":"Final verification: top-level selection mode","description":"# Description\nRun full test suite and verify all aspects of the top-level selection mode feature work correctly together.\n\n# Verification Steps\n1. Run full test suite: `mise run test`\n2. Run linter: `mise run lint`\n3. Build binary: `mise run build`\n4. Manual verification:\n   - Start atari with default config (top-level mode)\n   - Verify it selects highest priority epic/standalone\n   - Verify it completes that item before switching\n   - Test --selection-mode global for comparison\n   - Test --eager-switch behavior\n   - Test --epic flag takes precedence\n   - Verify TUI displays active top-level item\n   - Verify state persistence across restart\n\n# Acceptance Criteria\n- [ ] All tests pass\n- [ ] Linter passes\n- [ ] Build succeeds\n- [ ] Manual verification confirms expected behavior\n- [ ] Documentation is complete and accurate\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] `mise run build` passes\n- [ ] Manual testing complete\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:05:46.305467Z","created_by":"npratt","updated_at":"2026-01-21T13:57:41.954133Z","closed_at":"2026-01-21T13:57:41.954065Z","close_reason":"Verified all aspects of top-level selection mode: (1) All tests pass including 8 integration tests covering multi-epic priority, standalone beads, exhaustion/switching, eager switch, state persistence, epic flag precedence, and TUI events. (2) Linter passes with 0 issues. (3) Build succeeds. (4) Code review confirms proper implementation in workqueue, controller, TUI status display, and graph highlighting. Documentation in configuration.md is comprehensive.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1h9","depends_on_id":"bd-15x","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-1h9","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-1i9","title":"Add context check in fetchOutOfViewDeps loop","description":"# Overview\nAdd context cancellation check between iterations in fetchOutOfViewDeps to allow timely cancellation when fetching multiple out-of-view dependencies.\n\n# Problem\nIn internal/tui/graph.go:121-130, fetchOutOfViewDeps loops through missing dependency IDs and fetches each sequentially. If context is cancelled, it is not detected until the next FetchBead call. With many missing IDs, this delays cancellation response.\n\n# Implementation\n\n## Code Changes (graph.go:121-130)\n\nBefore:\nfor id := range missingIDs {\n    bead, err := g.fetcher.FetchBead(ctx, id)\n    // ...\n}\n\nAfter:\nfor id := range missingIDs {\n    select {\n    case <-ctx.Done():\n        return beads, outOfViewIDs // Return partial results\n    default:\n    }\n    bead, err := g.fetcher.FetchBead(ctx, id)\n    // ...\n}\n\n## Test\n\nAdd test that:\n1. Sets up graph with dependencies pointing to out-of-view beads\n2. Mocks FetchBead to block until signaled\n3. Cancels context after first fetch\n4. Verifies function returns promptly with partial results\n\n# Acceptance Criteria\n- Context checked between each fetch iteration\n- Partial results returned on cancellation\n- No unnecessary fetches after cancellation\n- Test verifies prompt cancellation response\n\n# Verification\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:15:36.626201Z","created_by":"npratt","updated_at":"2026-01-28T02:17:34.784523Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1i9","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:19.143357Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-1ij","title":"Final doc review and cleanup","description":"# Description\nFinal review of all documentation after the overhaul. Ensure consistency, fix broken links, and clean up any orphaned files.\n\n# Review Tasks\n1. Verify all cross-links between docs work\n2. Check for any remaining implementation docs that should be deleted\n3. Ensure terminology is consistent (beads as noun, br for commands)\n4. Verify README links to correct doc files\n5. Remove empty directories (docs/components/, docs/cli/ if empty)\n6. Update any CLAUDE.md references to old doc structure\n7. Remove docs/tui/ directory if content was merged into tui.md\n\n# Delete orphaned USER_GUIDE.md\n- Content should now be split across getting-started.md, workflow.md, tui.md\n- Delete docs/USER_GUIDE.md after verifying content was migrated\n\n# Acceptance Criteria\n- [ ] No broken links in any docs\n- [ ] No orphaned doc files\n- [ ] Consistent terminology throughout\n- [ ] Clean docs/ directory structure\n- [ ] CLAUDE.md doc references updated\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] Manual link check passes\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:43:05.830931Z","created_by":"npratt","updated_at":"2026-01-23T18:02:57.532248Z","closed_at":"2026-01-23T18:02:57.532179Z","close_reason":"Completed doc review: Fixed broken links in README.md and getting-started.md, deleted orphaned USER_GUIDE.md, verified terminology consistency, lint and tests pass","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1ij","depends_on_id":"bd-2p3","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-1ij","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-1ij","depends_on_id":"bd-3hl","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-1ij","depends_on_id":"bd-rc4","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-1j7","title":"Epic filter for atari start","description":"# Description\nAdd --epic flag to atari start that restricts work to beads under a specific epic.\n\n# Feature Summary\n- CLI flag: `atari start --epic bd-xxx`\n- Validates epic exists and is type=epic at startup\n- Filters workqueue to only epic descendants (recursive)\n- TUI shows \"(epic: bd-xxx)\" in status line\n- Graph dims beads outside epic subtree\n\n# Key Decisions (from user interview)\n- CLI flag only, no config file support\n- Start command only (not once)\n- Full bead ID required (bd-xxx format)\n- Fail fast if epic invalid\n- All descendants included (recursive)\n- Keep polling when epic work done\n- Normal retry/backoff rules apply\n- Restart required to change epic filter","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-20T21:41:53.283197Z","created_by":"npratt","updated_at":"2026-01-20T22:46:16.676785Z","closed_at":"2026-01-20T22:46:16.676721Z","close_reason":"Completed: Added --epic flag to atari start command with validation, workqueue filtering, TUI status display, and graph visualization. All child tasks closed.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-1n8","title":"Fix ObserverPane height calculation bug","description":"ObserverPane View and SetSize methods calculate history height incorrectly, resulting in 2 lines of wasted space at bottom of panel. This causes autoscroll to position content halfway up with blank space below.\n\nRoot Cause: Both methods subtract 3 for status and padding but actual layout only needs 1 for status bar. Formula should be p.height - observerInputHeight - 1.\n\nImplementation:\n1. Change historyHeight calculation in View from -3 to -1\n2. Change historyHeight calculation in SetSize from -3 to -1\n3. Update comments to describe what is being accounted for\n\nFiles: internal/tui/observer_pane.go - View and SetSize methods\n\nAcceptance Criteria:\n- ObserverPane fills available height with no blank space at bottom\n- Autoscroll positions content at actual bottom of panel\n- Existing tests pass\n\nVerification:\n- mise run lint passes\n- mise run test passes\n- Manual verification: send long message to observer, confirm autoscroll fills panel","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:16:17.674011Z","created_by":"npratt","updated_at":"2026-01-28T02:17:11.881825Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1n8","depends_on_id":"bd-244","type":"parent-child","created_at":"2026-01-28T02:17:06.839998Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-244","title":"TUI Panel Height Calculation Fixes","description":"Fix height calculation bugs in TUI panes that cause wasted space at bottom of panels.\n\nOverview:\nBoth GraphPane and ObserverPane have incorrect height calculations that subtract 3 lines when only 1 is needed, resulting in 2 lines of wasted space at the bottom of each panel. This causes beads to be cut off in the graph pane and autoscroll to position content halfway up in the observer pane.\n\nScope:\n- Fix GraphPane height calculation (contentHeight formula)\n- Fix ObserverPane height calculation (historyHeight formula)\n- Add regression tests to prevent future height bugs\n- Final verification of all fixes\n\nImplementation Issues:\n- bd-mez: Fix GraphPane height calculation bug\n- bd-1n8: Fix ObserverPane height calculation bug\n- bd-3gl: Add height verification tests for TUI panes\n- bd-3la: Run full test suite for TUI height fixes (final verification)\n\nVerification Commands:\n- Lint: mise run lint\n- Tests: mise run test\n- Build: mise run build\n\nKey Trade-offs:\n- Fullscreen views have similar patterns but are out of scope for this epic (different layout calculations)\n- Detail view formula (height - 2) not changed; will create follow-up if tests reveal problems\n\nSuccess Criteria:\nAll implementation issues closed and final verification passes.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-28T02:17:00.976466Z","created_by":"npratt","updated_at":"2026-01-28T02:17:00.976466Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2d6","title":"Create getting-started.md","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nCreate a new getting\u001b[1m\u001b[30m-\u001b[0mstarted\u001b[1m\u001b[30m.\u001b[0mmd guide that walks users through initial setup \u001b[1m\u001b[1m\u001b[35mand\u001b[0m their first run of atari\u001b[1m\u001b[30m.\u001b[0m\n\n\u001b[3m\u001b[32m# Content to Include\u001b[0m\n\u001b[1m\u001b[30m1.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mWhat is atari?\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Brief explanation: daemon that runs Claude Code sessions to work through beads automatically\n   \u001b[1m\u001b[30m-\u001b[0m Key benefit: hands\u001b[1m\u001b[30m-\u001b[0moff task automation\n\n\u001b[1m\u001b[30m2.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mPrerequisites\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Claude Code CLI (claude command, authenticated)\n   \u001b[1m\u001b[30m-\u001b[0m beads_rust (br command) \u001b[1m\u001b[30m-\u001b[0m link to https:\u001b[1m\u001b[30m//\u001b[0mgithub\u001b[1m\u001b[30m.\u001b[0mcom\u001b[1m\u001b[30m/\u001b[0mnavarrepratt\u001b[1m\u001b[30m/\u001b[0mbeads_rust\n   \u001b[1m\u001b[30m-\u001b[0m A project with \u001b[1m\u001b[30m.\u001b[0mbeads\u001b[1m\u001b[30m/\u001b[0m initialized\n\n\u001b[1m\u001b[30m3.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mInstallation\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m go install from GitHub\n   \u001b[1m\u001b[30m-\u001b[0m Or clone \u001b[1m\u001b[1m\u001b[35mand\u001b[0m build locally\n\n\u001b[1m\u001b[30m4.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mFirst\u001b[1m\u001b[30m-\u001b[0mtime Setup\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Run atari init (explain what it does: installs Claude rules \u001b[1m\u001b[1m\u001b[35mand\u001b[0m skills)\n   \u001b[1m\u001b[30m-\u001b[0m Show atari init \u001b[1m\u001b[30m--\u001b[0mdry\u001b[1m\u001b[30m-\u001b[0mrun \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m preview\n   \u001b[1m\u001b[30m-\u001b[0m Mention \u001b[1m\u001b[30m--\u001b[0mminimal flag \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m lighter setup\n\n\u001b[1m\u001b[30m5.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mYour First Run\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Create a simple test bead: br create \u001b[1m\u001b[30m\"Add hello world function\"\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Start atari: atari start\n   \u001b[1m\u001b[30m-\u001b[0m Watch it work\n   \u001b[1m\u001b[30m-\u001b[0m Verify the bead was completed\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] New user can follow guide from scratch\n\u001b[1m\u001b[30m-\u001b[0m [ ] All commands are accurate \u001b[1m\u001b[1m\u001b[35mand\u001b[0m tested\n\u001b[1m\u001b[30m-\u001b[0m [ ] Links to workflow\u001b[1m\u001b[30m.\u001b[0mmd \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m next steps\n\u001b[1m\u001b[30m-\u001b[0m [ ] Brief intro to beads concept (noun), uses br \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m commands\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] All example commands work\n\u001b[1m\u001b[30m-\u001b[0m [ ] Links are valid\n\nIf implementation reveals new issues, create separate issues \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m investigation\u001b[1m\u001b[30m.\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:42:21.260334Z","created_by":"npratt","updated_at":"2026-01-23T17:51:08.900926Z","closed_at":"2026-01-23T17:51:08.900861Z","close_reason":"Created docs/getting-started.md with all required sections: what is atari, prerequisites, installation, first-time setup (atari init with --dry-run, --minimal, --global flags), first run walkthrough, basic controls, and daemon mode. All commands verified working, links to USER_GUIDE.md, configuration.md, and KEYBINDS.md validated.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2d6","depends_on_id":"bd-2j0","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2d6","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2hs","title":"Fix parent-child hierarchy visualization","description":"# Overview\nParent-child relationships in bead visualization (active view) are broken - all beads display flat with no hierarchy or collapsible functionality. Root cause: silent enrichment failures at DEBUG level cause beads to retain basic data without dependencies, resulting in no hierarchy edges.\n\n# Scope\n- Fix silent enrichment failures that hide dependency data loss\n- Add panic recovery and race condition fixes in enrichment\n- Create realistic test fixtures matching actual br list vs br show behavior\n- Add end-to-end enrichment tests and structural hierarchy validation\n- Minor improvements to context handling and Parent field fallback\n\n# Implementation Issues\n- bd-2kk: Upgrade enrichment failure logging to WARN\n- bd-gk3: Fix enrichment race condition with panic recovery\n- bd-3gn: Create realistic test fixtures for br list vs br show\n- bd-nqi: Fix Parent field fallback and dependency_type handling\n- bd-1bu: Add end-to-end tests for enrichment flow\n- bd-9lb: Add structural hierarchy tests for graph rendering\n- bd-1i9: Add context check in fetchOutOfViewDeps loop\n- bd-1f6: Run full test suite (final verification)\n\n# Verification Commands\n- Lint: mise run lint\n- Tests: mise run test\n- Build: mise run build\n\n# Key Trade-offs\n- Chose WARN level (not ERROR) for enrichment failures since graceful degradation is intentional\n- Kept separate test fixtures for basic vs enriched data rather than refactoring all tests\n- Prioritized observable logging over architectural changes to enrichment flow\n\n# Success Criteria\nAll implementation issues closed and full test suite passes with hierarchy visualization working.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-28T02:17:04.975646Z","created_by":"npratt","updated_at":"2026-01-28T02:17:04.975646Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2j0","title":"Delete implementation docs","description":"# Description\nRemove all implementation-focused documentation that doesn't help end users. These docs are outdated and focus on internal architecture rather than how to use atari.\n\n# Files to Delete\n- docs/DESIGN.md\n- docs/IMPLEMENTATION.md\n- docs/SESSION_LIFECYCLE.md\n- docs/BEADS_INTEGRATION.md\n- docs/CONTEXT.md\n- docs/EXISTING_IMPLEMENTATION.md\n- docs/components/ (entire directory)\n- docs/cli/commands.md (has implementation code snippets)\n- docs/cli/init-command.md (if implementation-focused)\n\n# Files to Keep\n- docs/USER_GUIDE.md (will be split in later beads)\n- docs/tui/KEYBINDS.md\n- docs/config/configuration.md\n\n# Acceptance Criteria\n- [ ] All implementation docs deleted\n- [ ] Only user-facing docs remain in docs/\n- [ ] No broken links in remaining docs\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:41:59.841727Z","created_by":"npratt","updated_at":"2026-01-23T17:45:38.707156Z","closed_at":"2026-01-23T17:45:38.707102Z","close_reason":"Deleted implementation docs: DESIGN.md, IMPLEMENTATION.md, CONTEXT.md, EXISTING_IMPLEMENTATION.md, SESSION_LIFECYCLE.md, BEADS_INTEGRATION.md, docs/components/, docs/cli/. Updated CLAUDE.md, USER_GUIDE.md, and configuration.md to remove broken links. Retained user-facing docs: USER_GUIDE.md, tui/KEYBINDS.md, config/configuration.md. Lint and tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2j0","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2kc","title":"Test epic for verification","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-20T22:18:40.831653Z","created_by":"npratt","updated_at":"2026-01-20T22:20:08.905578Z","closed_at":"2026-01-20T22:20:08.905535Z","close_reason":"Test epic, created and removed during epic filter verification","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2kk","title":"Upgrade enrichment failure logging to WARN","description":"# Overview\nChange enrichment failure logging from DEBUG to WARN level so failures are visible in production. This is critical for diagnosing why parent-child hierarchy appears flat.\n\n# Problem\nIn `internal/tui/fetcher.go:163-168`, when `br show` fails during enrichment, the error is logged at DEBUG level and silently swallowed. This makes it impossible to diagnose enrichment failures in production.\n\n# Implementation\n\n1. Change `slog.Debug` to `slog.Warn` for non-cancellation errors (line 165)\n2. Keep `context.Canceled` errors at DEBUG level to avoid spam\n3. Add aggregate warning after enrichment completes: \"N of M beads failed enrichment\"\n4. Track failed bead IDs for debugging\n\n## Code Changes\n\n`internal/tui/fetcher.go:163-168`:\n```go\n// Before\nslog.Debug(\"failed to enrich bead, using basic data\", ...)\n\n// After  \nif errors.Is(err, context.Canceled) {\n    slog.Debug(\"bead enrichment cancelled\", \"bead_id\", bead.ID)\n} else {\n    slog.Warn(\"failed to enrich bead, using basic data\", \"bead_id\", bead.ID, \"error\", err)\n    mu.Lock()\n    failedIDs = append(failedIDs, bead.ID)\n    mu.Unlock()\n}\n```\n\nAfter `wg.Wait()`:\n```go\nif len(failedIDs) > 0 {\n    slog.Warn(\"enrichment partially failed\", \"total\", len(beads), \"failed\", len(failedIDs), \"failed_ids\", failedIDs)\n}\n```\n\n# Acceptance Criteria\n- [ ] Non-cancellation enrichment errors logged at WARN level\n- [ ] Context cancellation errors logged at DEBUG level\n- [ ] Aggregate warning logged when any enrichments fail\n- [ ] Test verifies WARN is logged on enrichment failure\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T02:13:58.613656Z","created_by":"npratt","updated_at":"2026-01-28T02:55:43.656943Z","closed_at":"2026-01-28T02:55:43.656881Z","close_reason":"Upgraded enrichment failure logging from DEBUG to WARN for non-cancellation errors. Context cancellation remains at DEBUG. Added aggregate warning for partial failures with failed bead IDs. Added tests verifying log levels.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2kk","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:12.862104Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-2kn","title":"Dim non-epic beads in TUI graph view","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nWhen epic filtering is active, dim beads \u001b[1m\u001b[1m\u001b[35min\u001b[0m the graph view that are outside the epic subtree\u001b[1m\u001b[30m.\u001b[0m This provides visual feedback about what\u001b[1m\u001b[30m's in scope for work.\u001b[0m\n\n\u001b[3m\u001b[32m# Technical Approach\u001b[0m\n\u001b[1m\u001b[30m1.\u001b[0m Pass epic descendant set to Graph (via RefreshWithFilter \u001b[1m\u001b[1m\u001b[35mor\u001b[0m similar)\n\u001b[1m\u001b[30m2.\u001b[0m Add OutOfScope field to \u001b[1m\u001b[1m\u001b[31mGraphNode\u001b[0m (\u001b[1m\u001b[1m\u001b[35mor\u001b[0m reuse existing OutOfView)\n\u001b[1m\u001b[30m3.\u001b[0m In graph rendering, apply dimmed style to nodes \u001b[1m\u001b[1m\u001b[35mnot\u001b[0m \u001b[1m\u001b[1m\u001b[35min\u001b[0m descendant set\n\u001b[1m\u001b[30m4.\u001b[0m Dimmed style: reduce color saturation \u001b[1m\u001b[1m\u001b[35mor\u001b[0m use gray text\n\u001b[1m\u001b[30m5.\u001b[0m Epic node itself should NOT be dimmed\n\n\u001b[3m\u001b[32m# Relevant Files\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mgraph\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m Graph struct, Refresh()\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mgraph_render\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m renderNode(), style application\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mstyles\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m style definitions (add dimmed variant)\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mgraph_types\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[1m\u001b[31mGraphNode\u001b[0m struct\n\n\u001b[3m\u001b[32m# Example\u001b[0m\n```\nWhen \u001b[1m\u001b[30m--\u001b[0mepic bd\u001b[1m\u001b[30m-\u001b[0mabc is set:\n\u001b[1m\u001b[30m-\u001b[0m bd\u001b[1m\u001b[30m-\u001b[0mabc (epic): normal color\n\u001b[1m\u001b[30m-\u001b[0m bd\u001b[1m\u001b[30m-\u001b[0mxyz (child of bd\u001b[1m\u001b[30m-\u001b[0mabc): normal color\n\u001b[1m\u001b[30m-\u001b[0m bd\u001b[1m\u001b[30m-\u001b[0mother (\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m \u001b[1m\u001b[1m\u001b[35min\u001b[0m epic): dimmed\u001b[1m\u001b[30m/\u001b[0mgray\n```\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] Beads outside epic subtree rendered with dimmed style\n\u001b[1m\u001b[30m-\u001b[0m [ ] Epic itself \u001b[1m\u001b[1m\u001b[35mand\u001b[0m all descendants rendered normally\n\u001b[1m\u001b[30m-\u001b[0m [ ] Without epic filter, all beads rendered normally\n\u001b[1m\u001b[30m-\u001b[0m [ ] Dimmed style is clearly distinguishable but still readable\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] `mise run lint` passes\n\u001b[1m\u001b[30m-\u001b[0m [ ] `mise run test` passes\n\u001b[1m\u001b[30m-\u001b[0m [ ] Visual verification with TUI graph mode\n\nIf implementation reveals new issues, create separate issues \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m investigation\u001b[1m\u001b[30m.\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:41:24.602932Z","created_by":"npratt","updated_at":"2026-01-20T22:17:45.946500Z","closed_at":"2026-01-20T22:17:45.946452Z","close_reason":"Implemented epic filter dimming: added OutOfScope field to GraphNode, SetEpicFilter/GetEpicFilter methods, computeEpicDescendants algorithm. Nodes outside epic subtree render with dimmed style. Tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2kn","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2kn","depends_on_id":"bd-35g","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2mp","title":"Add --epic flag to atari start command","description":"\u001b[3m\u001b[32m# Description\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0ma\u001b[37m \u001b[0m\u001b[1m\u001b[30m`--\u001b[0mepic\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0mxxx\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mflag\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mthe\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0matari\u001b[37m \u001b[0mstart\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mcommand\u001b[37m \u001b[0mthat\u001b[37m \u001b[0mrestricts\u001b[37m \u001b[0mwork\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0munder\u001b[37m \u001b[0ma\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mspecific\u001b[0m\u001b[37m \u001b[0mepic.\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Technical Approach\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`--\u001b[0mepic\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mstring\u001b[37m \u001b[0mflag\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mstart\u001b[37m \u001b[0mcommand\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mcmd\u001b[1m\u001b[30m/\u001b[0matari\u001b[1m\u001b[30m/\u001b[0mmain.go\u001b[1m\u001b[30m`\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mEpic\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mfield\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mControllerConfig\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mstruct\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mconfig\u001b[1m\u001b[30m/\u001b[0mconfig.go\u001b[1m\u001b[30m`\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m3\u001b[0m.\u001b[37m \u001b[0mWire\u001b[37m \u001b[0mflag\u001b[37m \u001b[0mvalue\u001b[37m \u001b[0mthrough\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mcontroller\u001b[37m \u001b[0mconfig\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m4\u001b[0m.\u001b[37m \u001b[0mFlag\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0moptional\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwhen\u001b[0m\u001b[37m \u001b[0mempty,\u001b[37m \u001b[0mno\u001b[37m \u001b[0m\u001b[32mfiltering\u001b[0m\u001b[37m \u001b[0m(current\u001b[37m \u001b[0mbehavior)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Relevant Files\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mcmd\u001b[1m\u001b[30m/\u001b[0matari\u001b[1m\u001b[30m/\u001b[0mmain.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mstart\u001b[37m \u001b[0mcommand\u001b[37m \u001b[0mdefinition\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mconfig\u001b[1m\u001b[30m/\u001b[0mconfig.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mControllerConfig\u001b[37m \u001b[0mstruct\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0matari\u001b[37m \u001b[0mstart\u001b[37m \u001b[0m\u001b[1m\u001b[30m--\u001b[0mepic\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0mxxx\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0maccepts\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mID\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0matari\u001b[37m \u001b[0mstart\u001b[37m \u001b[0m\u001b[1m\u001b[30m--\u001b[0mhelp\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mshows\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mflag\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0mdescription\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mEpic\u001b[37m \u001b[0mvalue\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0maccessible\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mcontroller\u001b[37m \u001b[0mconfig\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mNo\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mflag\u001b[37m \u001b[0m\u001b[1m\u001b[30m=\u001b[0m\u001b[37m \u001b[0mcurrent\u001b[37m \u001b[0m\u001b[32mbehavior\u001b[0m\u001b[37m \u001b[0m(no\u001b[37m \u001b[0mfiltering)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mlint\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mtest\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mIf\u001b[0m\u001b[37m \u001b[0mimplementation\u001b[37m \u001b[0mreveals\u001b[37m \u001b[0mnew\u001b[37m \u001b[0missues,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mcreate\u001b[0m\u001b[37m \u001b[0mseparate\u001b[37m \u001b[0missues\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0minvestigation.\u001b[37m\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:40:43.473224Z","created_by":"npratt","updated_at":"2026-01-20T21:50:38.429948Z","closed_at":"2026-01-20T21:50:38.429902Z","close_reason":"Added --epic flag to atari start command: FlagEpic constant in config.go, Epic field in WorkQueueConfig, flag wired through to controller config. Lint and tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2mp","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2p3","title":"Create tui.md with features and keybinds","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nCreate tui\u001b[1m\u001b[30m.\u001b[0mmd documenting the TUI features, navigation, \u001b[1m\u001b[1m\u001b[35mand\u001b[0m keybinds\u001b[1m\u001b[30m.\u001b[0m This consolidates TUI documentation into one user\u001b[1m\u001b[30m-\u001b[0mfocused guide\u001b[1m\u001b[30m.\u001b[0m\n\n\u001b[3m\u001b[32m# Content to Include\u001b[0m\n\u001b[1m\u001b[30m1.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mTUI Overview\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m What the TUI shows: status, events, observer, graph\n   \u001b[1m\u001b[30m-\u001b[0m Three main panes: events, observer, graph\n   \u001b[1m\u001b[30m-\u001b[0m How to toggle \u001b[1m\u001b[1m\u001b[35mand\u001b[0m focus panes\n\n\u001b[1m\u001b[30m2.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mPane Features\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Events pane: live feed of Claude activity, \u001b[1m\u001b[1m\u001b[35mtool\u001b[0m calls, results\n   \u001b[1m\u001b[30m-\u001b[0m Observer pane: Q\u001b[1m\u001b[30m&\u001b[0mA about what\u001b[1m\u001b[30m's happening (uses separate Claude session)\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Graph pane: bead dependency visualization\n\n\u001b[1m\u001b[30m3.\u001b[0m \u001b[1m\u001b[30m**\u001b[0m\u001b[1m\u001b[1m\u001b[31mNavigation\u001b[0m \u001b[1m\u001b[1m\u001b[35mand\u001b[0m Controls\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Global keys: quit, pause\u001b[1m\u001b[30m/\u001b[0mresume, toggle panes\n   \u001b[1m\u001b[30m-\u001b[0m Pane\u001b[1m\u001b[30m-\u001b[0mspecific keys: scrolling, navigation\n   \u001b[1m\u001b[30m-\u001b[0m Fullscreen mode (Shift\u001b[1m\u001b[30m+\u001b[0mletter)\n   \u001b[1m\u001b[30m-\u001b[0m Vim\u001b[1m\u001b[30m-\u001b[0mstyle navigation \u001b[1m\u001b[1m\u001b[35min\u001b[0m observer (normal\u001b[1m\u001b[30m/\u001b[0minsert modes)\n\n\u001b[1m\u001b[30m4.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mObserver Mode\u001b[1m\u001b[30m**\u001b[0m (as part of TUI section)\n   \u001b[1m\u001b[30m-\u001b[0m How to ask questions about current activity\n   \u001b[1m\u001b[30m-\u001b[0m Example questions\n   \u001b[1m\u001b[30m-\u001b[0m Cost considerations (uses haiku by default)\n\n\u001b[1m\u001b[30m5.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mGraph Pane\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Bead dependency visualization\n   \u001b[1m\u001b[30m-\u001b[0m Active\u001b[1m\u001b[30m/\u001b[0mBacklog toggle (a key)\n   \u001b[1m\u001b[30m-\u001b[0m Collapse\u001b[1m\u001b[30m/\u001b[0mexpand epics\n   \u001b[1m\u001b[30m-\u001b[0m Density levels\n\n\u001b[1m\u001b[30m6.\u001b[0m \u001b[1m\u001b[30m**\u001b[0mKeybind \u001b[1m\u001b[1m\u001b[31mReference\u001b[0m\u001b[1m\u001b[30m**\u001b[0m\n   \u001b[1m\u001b[30m-\u001b[0m Include content from current KEYBINDS\u001b[1m\u001b[30m.\u001b[0mmd\n   \u001b[1m\u001b[30m-\u001b[0m Well\u001b[1m\u001b[30m-\u001b[0morganized tables\n\n\u001b[3m\u001b[32m# Files to Consolidate\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m docs\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mKEYBINDS\u001b[1m\u001b[30m.\u001b[0mmd content should be merged into this file\n\u001b[1m\u001b[30m-\u001b[0m Remove docs\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0m directory after (\u001b[1m\u001b[1m\u001b[35mor\u001b[0m keep KEYBINDS\u001b[1m\u001b[30m.\u001b[0mmd as symlink\u001b[1m\u001b[30m/\u001b[0mredirect)\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] All TUI features documented\n\u001b[1m\u001b[30m-\u001b[0m [ ] Keybinds clearly organized\n\u001b[1m\u001b[30m-\u001b[0m [ ] Observer documented as part of TUI (\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m separate)\n\u001b[1m\u001b[30m-\u001b[0m [ ] Placeholder \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m screenshots (user will add later)\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] Keybinds match actual implementation\n\nIf implementation reveals new issues, create separate issues \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m investigation\u001b[1m\u001b[30m.\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:42:44.959414Z","created_by":"npratt","updated_at":"2026-01-23T17:56:52.829529Z","closed_at":"2026-01-23T17:56:52.829474Z","close_reason":"Created docs/tui.md with comprehensive TUI documentation covering layout, panes (events, observer, graph), navigation, and full keybind reference. Consolidated content from docs/tui/KEYBINDS.md. Updated references in getting-started.md and workflow.md.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2p3","depends_on_id":"bd-2zd","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2p3","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2sg","title":"Epic filter end-to-end verification","description":"# Description\nFinal verification that the epic filter feature works end-to-end. Run full test suite and perform manual integration test.\n\n# Verification Steps\n1. Run `mise run lint` - must pass\n2. Run `mise run test` - must pass\n3. Manual test sequence:\n   - Create test epic: `br create \"Test epic\" --type epic`\n   - Create child bead: `br create \"Child task\" --description \"...\"`\n   - Link child to epic: `br dep add <child-id> <epic-id> --type parent-child`\n   - Start atari with filter: `atari start --epic <epic-id> --tui`\n   - Verify TUI shows \"(epic: <epic-id>)\" in status\n   - Verify only child bead is picked up for work\n   - Verify graph shows non-epic beads dimmed\n\n# Acceptance Criteria\n- [ ] All unit tests pass\n- [ ] Linting passes\n- [ ] Manual integration test confirms feature works\n- [ ] Error cases tested (invalid epic ID, non-epic type)\n\n# Notes\nThis is a verification-only bead. If issues are found, create new beads for fixes rather than implementing here.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:41:33.329625Z","created_by":"npratt","updated_at":"2026-01-20T22:20:14.870899Z","closed_at":"2026-01-20T22:20:14.870855Z","close_reason":"Verified epic filter feature end-to-end: lint passes, all 200+ unit tests pass, error cases work correctly (invalid epic ID returns 'epic not found', non-epic type returns 'is not an epic'), atari starts successfully with valid epic filter showing 'validated epic' in logs, TUI status suffix and graph dimming are implemented and unit-tested","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2sg","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2sg","depends_on_id":"bd-2kn","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2sg","depends_on_id":"bd-35g","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2sg","depends_on_id":"bd-wpi","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-2uc","title":"Timing test","description":"Testing race window","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:46.067340Z","created_by":"npratt","updated_at":"2026-01-20T23:17:01.478840Z","closed_at":"2026-01-20T23:17:01.478798Z","close_reason":"Test cleanup","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2yg","title":"Test parent-child epic","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-28T01:45:26.518384Z","created_by":"npratt","updated_at":"2026-01-28T01:46:00.510814Z","closed_at":"2026-01-28T01:46:00.510770Z","close_reason":"Test complete","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2zd","title":"Create workflow.md with planning skills","description":"# Description\nCreate workflow.md documenting the recommended workflow: using /issue-plan-user in one terminal to create beads, then atari TUI in another terminal to process them.\n\n# Content to Include\n1. **The Two-Terminal Workflow** (conceptual with examples)\n   - Terminal 1: Claude Code session for planning and creating beads\n   - Terminal 2: atari TUI watching and processing beads\n   - Why this separation: human stays in control of planning, automation handles implementation\n\n2. **Planning with /issue-plan-user**\n   - What it does: interviews you to flesh out requirements\n   - When to use it: recommended for most planning\n   - Example session walkthrough (conceptual)\n   - Mention other skills exist (/issue-plan, /issue-plan-ultra, /issue-create) but keep focus on /issue-plan-user\n\n3. **Creating Beads**\n   - How /issue-plan-user creates beads with br create\n   - Deferred status for batch creation\n   - Dependencies between beads (br dep add)\n   - Publishing beads when ready\n\n4. **Running atari**\n   - Start with atari start\n   - Watch progress in TUI\n   - Pause/resume controls\n   - What happens when a bead completes\n\n5. **Important Limitation**\n   - Single worker: one Claude session at a time\n   - Beads are processed sequentially\n\n# Acceptance Criteria\n- [ ] Workflow is clear for new user\n- [ ] /issue-plan-user is prominently featured\n- [ ] Two-terminal concept is well explained\n- [ ] Links to tui.md for TUI details\n\n# Verification\n- [ ] Example commands are accurate\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:42:32.278831Z","created_by":"npratt","updated_at":"2026-01-23T17:53:39.120434Z","closed_at":"2026-01-23T17:53:39.120376Z","close_reason":"Created docs/workflow.md documenting the two-terminal workflow: planning with /issue-plan-user in one terminal, atari TUI processing in another. Covers interview-driven planning, deferred status for batch creation, dependencies, TUI controls, and single worker limitation. All example commands verified against br help.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2zd","depends_on_id":"bd-2d6","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-2zd","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-308","title":"Add selection_mode and eager_switch config options","description":"# Description\nAdd new config fields to support top-level selection mode. This is the foundation for the new selection behavior.\n\n# Technical Approach\n1. Add to WorkQueueConfig in internal/config/config.go:\n   - SelectionMode string (values: \"top-level\", \"global\"; default: \"top-level\")\n   - EagerSwitch bool (default: false)\n\n2. Add CLI flags in cmd/atari/config.go:\n   - --selection-mode flag\n   - --eager-switch flag\n\n3. Add flag binding in cmd/atari/main.go (following existing patterns like --epic)\n\n4. Update config documentation in docs/config/\n\n# Acceptance Criteria\n- [ ] SelectionMode field added with \"top-level\" as default\n- [ ] EagerSwitch field added with false as default\n- [ ] CLI flags work: `atari start --selection-mode global --eager-switch`\n- [ ] Config file works: selection_mode: global in yaml\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] `mise run build` passes\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:04:16.309713Z","created_by":"npratt","updated_at":"2026-01-20T23:08:38.944527Z","closed_at":"2026-01-20T23:08:38.944487Z","close_reason":"Added SelectionMode and EagerSwitch fields to WorkQueueConfig with defaults, CLI flags (--selection-mode, --eager-switch), viper bindings, and config documentation. All verification passes: lint, test, build.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-308","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-313","title":"Test defer flag","description":"Testing defer flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:28.547915Z","created_by":"npratt","updated_at":"2026-01-20T23:17:01.534721Z","closed_at":"2026-01-20T23:17:01.534680Z","close_reason":"Test cleanup","defer_until":"2099-01-01T14:00:00Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-32y","title":"Fix ObserverPane height calculation bug","description":"\u001b[3m\u001b[32m# Problem\u001b[0m\n\nObserverPane\u001b[1m\u001b[30m.\u001b[0mView() \u001b[1m\u001b[1m\u001b[35mand\u001b[0m SetSize() calculate history height incorrectly, resulting \u001b[1m\u001b[1m\u001b[35min\u001b[0m \u001b[1m\u001b[30m2\u001b[0m lines of wasted space at bottom of panel\u001b[1m\u001b[30m.\u001b[0m This causes autoscroll to position content halfway up with blank space below\u001b[1m\u001b[30m.\u001b[0m\n\n\u001b[3m\u001b[32m# Root Cause\u001b[0m\n\nIn ObserverPane\u001b[1m\u001b[30m.\u001b[0mView() where historyHeight is calculated:\n```go\nhistoryHeight :\u001b[1m\u001b[30m=\u001b[0m p\u001b[1m\u001b[30m.\u001b[0mheight \u001b[1m\u001b[30m-\u001b[0m observerInputHeight \u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m3\u001b[0m \u001b[1m\u001b[30m//\u001b[0m input \u001b[1m\u001b[30m+\u001b[0m status \u001b[1m\u001b[30m+\u001b[0m padding\n```\n\nAnd \u001b[1m\u001b[1m\u001b[35min\u001b[0m SetSize():\n```go\nhistoryHeight :\u001b[1m\u001b[30m=\u001b[0m height \u001b[1m\u001b[30m-\u001b[0m observerInputHeight \u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m3\u001b[0m\n```\n\nBoth subtract \u001b[1m\u001b[30m3\u001b[0m \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m \u001b[1m\u001b[30m\"status + padding\"\u001b[0m but actual layout is:\n\u001b[1m\u001b[30m-\u001b[0m History viewport: variable\n\u001b[1m\u001b[30m-\u001b[0m Status bar: \u001b[1m\u001b[30m1\u001b[0m line\n\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[1m\u001b[31mInput\u001b[0m area: \u001b[1m\u001b[30m3\u001b[0m lines (observerInputHeight constant)\n\u001b[1m\u001b[30m-\u001b[0m Total should equal p\u001b[1m\u001b[30m.\u001b[0mheight\n\nFormula should be `p\u001b[1m\u001b[30m.\u001b[0mheight \u001b[1m\u001b[30m-\u001b[0m observerInputHeight \u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m1\u001b[0m` (only status bar \u001b[1m\u001b[1m\u001b[35min\u001b[0m addition to input)\u001b[1m\u001b[30m.\u001b[0m\n\n\u001b[3m\u001b[32m# Implementation\u001b[0m\n\n\u001b[1m\u001b[30m1.\u001b[0m Change historyHeight calculation \u001b[1m\u001b[1m\u001b[35min\u001b[0m View() from `\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m3\u001b[0m` to `\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m1\u001b[0m`\n\u001b[1m\u001b[30m2.\u001b[0m Change historyHeight calculation \u001b[1m\u001b[1m\u001b[35min\u001b[0m SetSize() from `\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m3\u001b[0m` to `\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[30m1\u001b[0m`\n\u001b[1m\u001b[30m3.\u001b[0m Update comments to accurately describe what is being accounted \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\n\n\u001b[3m\u001b[32m# Files to Modify\u001b[0m\n\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mobserver_pane\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m View() method where historyHeight is calculated\n\u001b[1m\u001b[30m-\u001b[0m internal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mobserver_pane\u001b[1m\u001b[30m.\u001b[0mgo \u001b[1m\u001b[30m-\u001b[0m SetSize() method where historyHeight is calculated\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\n\u001b[1m\u001b[30m-\u001b[0m ObserverPane renders content that fills available height (no blank space at bottom)\n\u001b[1m\u001b[30m-\u001b[0m Autoscroll positions content at actual bottom of panel\n\u001b[1m\u001b[30m-\u001b[0m Existing tests \u001b[1m\u001b[1m\u001b[35mcontinue\u001b[0m to \u001b[1m\u001b[1m\u001b[35mpass\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Height calculation comments accurately describe the subtractions\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\n\u001b[1m\u001b[30m-\u001b[0m [ ] `mise run lint` passes\n\u001b[1m\u001b[30m-\u001b[0m [ ] `mise run test` passes\n\u001b[1m\u001b[30m-\u001b[0m [ ] Manual verification: send long message to observer, confirm autoscroll fills panel","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T02:13:23.272498Z","created_by":"npratt","updated_at":"2026-01-28T02:16:05.403156Z","closed_at":"2026-01-28T02:16:05.403110Z","close_reason":"Fixed historyHeight calculation in View() and SetSize() by changing subtraction from -3 to -1, since only the status bar needs to be subtracted in addition to observerInputHeight. Updated comments to accurately describe the layout.","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-35g","title":"Filter workqueue to epic descendants","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nFilter\u001b[37m \u001b[0mworkqueue\u001b[37m \u001b[0mresults\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0monly\u001b[37m \u001b[0minclude\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0mthat\u001b[37m \u001b[0mare\u001b[37m \u001b[0mdescendants\u001b[37m \u001b[0mof\u001b[37m \u001b[0mthe\u001b[37m \u001b[0mconfigured\u001b[37m \u001b[0m\u001b[32mepic\u001b[0m\u001b[37m \u001b[0m(direct\u001b[37m \u001b[0mchildren\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mall\u001b[0m\u001b[37m \u001b[0mrecursive\u001b[37m \u001b[0mdescendants).\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Technical Approach\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mEpicFilter\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mfield\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mWorkQueueConfig\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m(epic\u001b[37m \u001b[0mID\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwhen\u001b[0m\u001b[37m \u001b[0mfiltering)\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0mmethod\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mbuild\u001b[37m \u001b[0mdescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mby\u001b[0m\u001b[37m \u001b[0mwalking\u001b[37m \u001b[0mparent\u001b[37m \u001b[0mchains\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfrom\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mall\u001b[0m\u001b[37m \u001b[0mbeads\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m3\u001b[0m.\u001b[37m \u001b[0mModify\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0m\u001b[32mfilterEligible\u001b[0m()\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mexclude\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mdescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m4\u001b[0m.\u001b[37m \u001b[0mDescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0mrebuilt\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35meach\u001b[0m\u001b[37m \u001b[0m\u001b[32mpoll\u001b[0m\u001b[37m \u001b[0m(handles\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0madded\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mat\u001b[37m \u001b[0mruntime)\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m5\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mUse\u001b[0m\u001b[37m \u001b[0mexisting\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mbr\u001b[37m \u001b[0mlist\u001b[37m \u001b[0m\u001b[1m\u001b[30m--\u001b[0mjson\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mget\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mall\u001b[0m\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0mparent\u001b[37m \u001b[0m\u001b[32minfo\u001b[0m\u001b[37m \u001b[0m(GraphBead\u001b[37m \u001b[0mstruct\u001b[37m \u001b[0malready\u001b[37m \u001b[0mhas\u001b[37m \u001b[0mParent\u001b[37m \u001b[0mfield)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Algorithm for descendant discovery\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0mStart\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mID\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mdescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mFor\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35meach\u001b[0m\u001b[37m \u001b[0mbead,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mif\u001b[0m\u001b[37m \u001b[0mits\u001b[37m \u001b[0mParent\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mdescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35madd\u001b[0m\u001b[37m \u001b[0mbead\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m3\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mRepeat\u001b[0m\u001b[37m \u001b[0muntil\u001b[37m \u001b[0mno\u001b[37m \u001b[0mnew\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0m\u001b[32madded\u001b[0m\u001b[37m \u001b[0m(handles\u001b[37m \u001b[0marbitrary\u001b[37m \u001b[0mnesting\u001b[37m \u001b[0mdepth)\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0m\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Relevant Files\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mworkqueue\u001b[1m\u001b[30m/\u001b[0mqueue.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mManager,\u001b[37m \u001b[0mBead\u001b[37m \u001b[0mstruct,\u001b[37m \u001b[0m\u001b[32mfilterEligible\u001b[0m()\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mconfig\u001b[1m\u001b[30m/\u001b[0mconfig.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mWorkQueueConfig\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mgraph_types.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mGraphBead\u001b[37m \u001b[0mhas\u001b[37m \u001b[0mParent\u001b[37m \u001b[0m\u001b[32mfield\u001b[0m\u001b[37m \u001b[0m(reference)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mWith\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m--\u001b[0mepic\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m,\u001b[37m \u001b[0monly\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0munder\u001b[37m \u001b[0mthat\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mare\u001b[37m \u001b[0mselected\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mwork\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mDirect\u001b[37m \u001b[0mchildren\u001b[37m \u001b[0mincluded\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[32mGrandchildren\u001b[0m\u001b[37m \u001b[0m(recursive)\u001b[37m \u001b[0mincluded\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mBeads\u001b[37m \u001b[0madded\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mduring\u001b[37m \u001b[0mruntime\u001b[37m \u001b[0mare\u001b[37m \u001b[0mpicked\u001b[37m \u001b[0mup\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0mnext\u001b[37m \u001b[0mpoll\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mWithout\u001b[37m \u001b[0m\u001b[1m\u001b[30m--\u001b[0mepic,\u001b[37m \u001b[0mcurrent\u001b[37m \u001b[0mbehavior\u001b[37m \u001b[0munchanged\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mlint\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mtest\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mUnit\u001b[37m \u001b[0mtest\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mdescendant\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m \u001b[0mbuilding\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mIf\u001b[0m\u001b[37m \u001b[0mimplementation\u001b[37m \u001b[0mreveals\u001b[37m \u001b[0mnew\u001b[37m \u001b[0missues,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mcreate\u001b[0m\u001b[37m \u001b[0mseparate\u001b[37m \u001b[0missues\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0minvestigation.\u001b[37m\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:41:03.541292Z","created_by":"npratt","updated_at":"2026-01-20T22:03:52.654423Z","closed_at":"2026-01-20T22:03:52.654371Z","close_reason":"Implemented epic filtering in workqueue: added Parent field to Bead, fetchDescendants method with iterative algorithm, modified filterEligible to filter by descendants. Verified with comprehensive unit tests for single-level, multi-level, and edge cases. All tests pass, lint clean.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-35g","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-35g","depends_on_id":"bd-enq","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-36j","title":"Timing test","description":"Testing race window","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:46.067340Z","created_by":"npratt","updated_at":"2026-01-20T23:17:01.478840Z","closed_at":"2026-01-20T23:17:01.478798Z","close_reason":"Test cleanup","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3cc","title":"Implement top-level selection logic in workqueue","description":"# Description\nAdd the core selection logic for top-level mode in the workqueue package. This identifies root items (epics + standalone beads) and filters to descendants of the selected top-level item.\n\n# Technical Approach\n1. Add method to identify top-level items:\n   - Query `br list --json` to get all beads\n   - Find roots: epics + beads with no parent\n   - Sort by priority (ascending), then creation time\n\n2. Add `NextTopLevel()` method to Manager:\n   - If activeTopLevel is set and has ready descendants, use it\n   - Otherwise, identify all top-level items, pick highest priority with ready work\n   - Filter beads to descendants of selected top-level item\n   - Apply existing filterEligible logic\n   - Return highest priority descendant\n\n3. Track active top-level in Manager struct (runtime state)\n\n4. Handle exhaustion: clear activeTopLevel when no ready descendants\n\n# Key Files\n- internal/workqueue/queue.go - main implementation\n- internal/workqueue/queue_test.go - unit tests\n\n# Acceptance Criteria\n- [ ] Top-level items correctly identified (epics + parentless beads)\n- [ ] NextTopLevel() selects from active top-level's descendants\n- [ ] Exhausted top-level items are cleared\n- [ ] Unit tests cover: multi-epic scenarios, standalone beads, exhaustion\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:04:31.704414Z","created_by":"npratt","updated_at":"2026-01-20T23:12:11.617343Z","closed_at":"2026-01-20T23:12:11.617299Z","close_reason":"Implemented NextTopLevel() selection mode in workqueue with activeTopLevel tracking, helper methods for identifying/selecting top-level items, and comprehensive tests covering multi-epic, standalone, and exhaustion scenarios. Lint and tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3cc","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-3cc","depends_on_id":"bd-308","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-3cu","title":"Documentation overhaul for public release","description":"\u001b[3m\u001b[32m# Epic: Documentation Overhaul for Public Release\u001b[0m\n\u001b[37m\u001b[0m\nPrepare\u001b[37m \u001b[0matari\u001b[37m \u001b[0mdocumentation\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mpublic\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mrelease\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0m\u001b[32mGitHub\u001b[0m\u001b[37m \u001b[0m(navarrepratt\u001b[1m\u001b[30m/\u001b[0matari).\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m## Goals\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mRemove\u001b[37m \u001b[0mimplementation\u001b[1m\u001b[30m-\u001b[0mfocused\u001b[37m \u001b[0mdocs\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mCreate\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35muser\u001b[0m\u001b[1m\u001b[30m-\u001b[0mfocused\u001b[37m \u001b[0mdocumentation\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mDocument\u001b[37m \u001b[0m\u001b[1m\u001b[30m/\u001b[0missue\u001b[1m\u001b[30m-\u001b[0mplan\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[1m\u001b[35muser\u001b[0m\u001b[37m \u001b[0mworkflow\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mDocument\u001b[37m \u001b[0mTUI\u001b[37m \u001b[0mfeatures\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mUpdate\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mall\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mreferences\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0mURLs\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m## Key Decisions\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mAudience:\u001b[37m \u001b[0mDevelopers\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35musing\u001b[0m\u001b[37m \u001b[0mClaude\u001b[37m \u001b[0mCode\u001b[37m \u001b[0m\u001b[1m\u001b[30m+\u001b[0m\u001b[37m \u001b[0mfuture\u001b[37m \u001b[0mreference\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mDoc\u001b[37m \u001b[0mstructure:\u001b[37m \u001b[0mSplit\u001b[37m \u001b[0m\u001b[32mfiles\u001b[0m\u001b[37m \u001b[0m(getting\u001b[1m\u001b[30m-\u001b[0mstarted.md,\u001b[37m \u001b[0mworkflow.md,\u001b[37m \u001b[0mtui.md,\u001b[37m \u001b[0mconfiguration.md)\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mMain\u001b[37m \u001b[0mskill\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mdocument:\u001b[37m \u001b[0m\u001b[1m\u001b[30m/\u001b[0missue\u001b[1m\u001b[30m-\u001b[0mplan\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[1m\u001b[35muser\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mTerminology:\u001b[37m \u001b[0m\u001b[1m\u001b[30m\"beads\"\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mas\u001b[0m\u001b[37m \u001b[0mnoun,\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mbr\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mcommands\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mScreenshots:\u001b[37m \u001b[0mPlaceholder\u001b[37m \u001b[0mlocations,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35muser\u001b[0m\u001b[37m \u001b[0mwill\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35madd\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mImplementation\u001b[37m \u001b[0mdocs:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mDelete\u001b[0m\u001b[37m \u001b[0mentirely\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m## Beads\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m2\u001b[0mj0:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mDelete\u001b[0m\u001b[37m \u001b[0mimplementation\u001b[37m \u001b[0mdocs\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0mrc4:\u001b[37m \u001b[0mSimplify\u001b[37m \u001b[0mREADME\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m2\u001b[0md6:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mCreate\u001b[0m\u001b[37m \u001b[0mgetting\u001b[1m\u001b[30m-\u001b[0mstarted.md\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m2\u001b[0mzd:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mCreate\u001b[0m\u001b[37m \u001b[0mworkflow.md\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m2\u001b[0mp3:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mCreate\u001b[0m\u001b[37m \u001b[0mtui.md\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m3\u001b[0mhl:\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mUpdate\u001b[0m\u001b[37m \u001b[0mconfiguration.md\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m1\u001b[0mij:\u001b[37m \u001b[0mFinal\u001b[37m \u001b[0mdoc\u001b[37m \u001b[0mreview\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0mcleanup\u001b[37m\u001b[0m","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T17:43:30.623731Z","created_by":"npratt","updated_at":"2026-01-23T18:03:05.034996Z","closed_at":"2026-01-23T18:03:05.034920Z","close_reason":"All children completed","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3gl","title":"Add height verification tests for TUI panes","description":"Add tests that verify TUI panes render content matching their expected height. These tests prevent regression of height calculation bugs.\n\nImplementation:\n1. Add TestGraphPane_ViewRenderedHeight - verify GraphPane View output height matches pane height\n2. Add TestObserverPane_ViewRenderedHeight - verify ObserverPane View output height matches pane height\n3. Add TestGraphPane_SetSizeViewConsistency - verify SetSize and View use same height formulas\n4. Add TestObserverPane_SetSizeViewConsistency - verify SetSize and View use same height formulas\n5. Add edge case tests for minimum heights and resize behavior\n\nTest pattern: Use lipgloss.Height(view) to measure actual rendered height, compare to expected pane height.\n\nTest cases for each pane:\n- Standard terminal (80x24)\n- Small height (80x10)\n- Minimum viable height\n- Tall terminal (80x50)\n\nFiles: \n- internal/tui/graph_pane_test.go\n- internal/tui/observer_pane_test.go\n\nAcceptance Criteria:\n- Tests verify rendered output height equals expected pane height\n- Tests follow existing table-driven pattern\n- Edge cases covered (minimum heights, resize)\n\nVerification:\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:16:30.956623Z","created_by":"npratt","updated_at":"2026-01-28T02:17:11.931968Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3gl","depends_on_id":"bd-244","type":"parent-child","created_at":"2026-01-28T02:17:06.892850Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-3gn","title":"Create realistic test fixtures for br list vs br show","description":"# Overview\nCreate separate test fixtures that accurately represent what br list and br show return. Current fixtures include dependency arrays that br list does not provide.\n\n# Problem\nIn testutil/graph_fixtures.go, GraphActiveBeadsJSON includes full dependencies arrays. But real br list --json only returns dependency_count, not the actual dependencies array. This means tests pass with pre-enriched data that bypasses the real enrichment flow.\n\n# Implementation\n\n1. Create GraphListActiveJSON - matches actual br list output (no dependencies array)\n2. Create GraphShowBead_XXX fixtures - what br show returns for each bead (with dependencies)\n3. Keep existing GraphActiveBeadsJSON as pre-enriched fixture for unit tests\n4. Add test setup helper using DynamicResponse for br show calls\n\n## New Fixtures\n\ntestutil/graph_fixtures.go:\n\n// GraphListActiveJSON - what br list --json actually returns\nvar GraphListActiveJSON = json with dependency_count but NO dependencies array\n\n// GraphShowBeadEpic001JSON - what br show bd-epic-001 --json returns\nvar GraphShowBeadEpic001JSON = json with full dependents array\n\n// GraphShowBeadTask001JSON - what br show bd-task-001 --json returns\nvar GraphShowBeadTask001JSON = json with full dependencies array including parent-child\n\n## Test Helper\n\nfunc SetupMockEnrichment(runner *MockRunner, fixtures map[string]string) to setup DynamicResponse for br show calls\n\n# Acceptance Criteria\n- New fixtures accurately model br list vs br show output difference\n- Existing tests still pass with pre-enriched fixtures\n- New helper simplifies setting up enrichment mocks\n- Documentation explains when to use which fixture\n\n# Verification\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:14:29.836586Z","created_by":"npratt","updated_at":"2026-01-28T02:17:30.862711Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3gn","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:14.372607Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-3gs","title":"Test default status","description":"Checking default status","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:10.668358Z","created_by":"npratt","updated_at":"2026-01-20T23:08:10.719004Z","closed_at":"2026-01-20T23:08:10.718962Z","close_reason":"Test cleanup","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3hk","title":"Child task for epic test","description":"Test child bead to verify epic filtering works correctly","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T22:18:46.069459Z","created_by":"npratt","updated_at":"2026-01-20T22:20:08.206568Z","closed_at":"2026-01-20T22:20:08.206524Z","close_reason":"Test bead, created and removed during epic filter verification","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3hk","depends_on_id":"bd-2kc","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-3hl","title":"Update configuration.md for user focus","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nReview \u001b[1m\u001b[1m\u001b[35mand\u001b[0m update docs\u001b[1m\u001b[30m/\u001b[0mconfig\u001b[1m\u001b[30m/\u001b[0mconfiguration\u001b[1m\u001b[30m.\u001b[0mmd to ensure it\u001b[1m\u001b[30m's user-focused. Remove any implementation details, ensure examples are current.\u001b[0m\n\n\u001b[3m\u001b[32m# Review and Update\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Remove any implementation code snippets\n\u001b[1m\u001b[30m-\u001b[0m Ensure all config options are documented with user\u001b[1m\u001b[30m-\u001b[0mfriendly descriptions\n\u001b[1m\u001b[30m-\u001b[0m Verify example YAML is accurate\n\u001b[1m\u001b[30m-\u001b[0m Add cross\u001b[1m\u001b[30m-\u001b[0mreferences to relevant docs (tui\u001b[1m\u001b[30m.\u001b[0mmd \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m observer config, etc\u001b[1m\u001b[30m.\u001b[0m)\n\u001b[1m\u001b[30m-\u001b[0m Check environment variable examples are correct\n\n\u001b[3m\u001b[32m# Keep\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Configuration precedence explanation\n\u001b[1m\u001b[30m-\u001b[0m Full config file example\n\u001b[1m\u001b[30m-\u001b[0m \u001b[1m\u001b[1m\u001b[31mEnvironment\u001b[0m variable reference\n\u001b[1m\u001b[30m-\u001b[0m Config file location info\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] No implementation details \u001b[1m\u001b[1m\u001b[35min\u001b[0m doc\n\u001b[1m\u001b[30m-\u001b[0m [ ] All config options documented\n\u001b[1m\u001b[30m-\u001b[0m [ ] Examples are accurate\n\u001b[1m\u001b[30m-\u001b[0m [ ] Cross\u001b[1m\u001b[30m-\u001b[0mlinks to other docs work\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] Example config files are valid YAML\n\nIf implementation reveals new issues, create separate issues \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m investigation\u001b[1m\u001b[30m.\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:42:55.041087Z","created_by":"npratt","updated_at":"2026-01-23T17:59:49.367978Z","closed_at":"2026-01-23T17:59:49.367903Z","close_reason":"Updated configuration.md: removed Go implementation code and unimplemented notifications section, added missing config sections (log_rotation, graph, follow_up, wrap_up), fixed bdactivity YAML key, added cross-references to tui.md. All YAML examples validated.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3hl","depends_on_id":"bd-2j0","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-3hl","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-3iw","title":"Update atari init skills for epic priority guidance","description":"# Description\nInvestigate and update the atari init skills to provide guidance on setting epic priorities when using top-level selection mode.\n\n# Technical Approach\n1. Investigate current init skills:\n   - Review skills installed by `atari init`\n   - Check if epic creation guidance exists\n   - Identify where priority guidance should be added\n\n2. Update skills as needed:\n   - Add guidance for setting epic priorities\n   - Explain top-level selection mode behavior\n   - Recommend priority patterns (e.g., lower number = work first)\n\n3. Update documentation:\n   - Document the selection_mode config option\n   - Explain how top-level vs global modes work\n   - Add examples to config documentation\n\n# Key Files\n- cmd/atari/init.go or similar - init command implementation\n- Skills/templates installed by init\n- docs/config/configuration.md - config documentation\n\n# Acceptance Criteria\n- [ ] Init skills include epic priority guidance\n- [ ] Documentation explains selection modes\n- [ ] Users understand how priority affects work order in top-level mode\n\n# Verification\n- [ ] `atari init --dry-run` shows updated content\n- [ ] Documentation is clear and accurate\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:05:17.603383Z","created_by":"npratt","updated_at":"2026-01-21T13:49:52.018073Z","closed_at":"2026-01-21T13:49:52.018033Z","close_reason":"Added epic priority guidance to issue-plan skills and configuration documentation. Skills now explain how epic priority affects work order in top-level selection mode. Documentation includes Selection Modes section with examples.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3iw","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-3iw","depends_on_id":"bd-btd","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-3l7","title":"Test defer flag","description":"Testing defer flag","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:32.487067Z","created_by":"npratt","updated_at":"2026-01-20T23:08:32.582893Z","closed_at":"2026-01-20T23:08:32.582847Z","close_reason":"Test cleanup","defer_until":"2099-01-01T14:00:00Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-3la","title":"Run full test suite for TUI height fixes","description":"Final verification: Run full test suite after all height calculation fixes are complete.\n\nPurpose: Verify all changes work together with no regressions.\n\nSteps:\n1. Run mise run lint - verify no lint errors\n2. Run mise run test - verify all unit tests pass\n3. Run mise run build - verify build succeeds\n4. Manual testing: \n   - Start atari TUI\n   - Resize terminal vertically\n   - Verify GraphPane fills available space (no blank lines at bottom)\n   - Verify ObserverPane autoscroll positions content at bottom (no blank lines)\n   - Test with various terminal sizes\n\nAcceptance Criteria:\n- All automated tests pass\n- Manual verification confirms visual bugs are fixed\n- No regressions in other TUI functionality\n\nVerification:\n- mise run lint passes\n- mise run test passes\n- mise run build passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:16:42.398099Z","created_by":"npratt","updated_at":"2026-01-28T02:17:11.980925Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3la","depends_on_id":"bd-1n8","type":"blocks","created_at":"2026-01-28T02:16:50.972088Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-3la","depends_on_id":"bd-244","type":"parent-child","created_at":"2026-01-28T02:17:06.928544Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-3la","depends_on_id":"bd-3gl","type":"blocks","created_at":"2026-01-28T02:16:51.028140Z","created_by":"npratt","metadata":"{}","thread_id":""},{"issue_id":"bd-3la","depends_on_id":"bd-mez","type":"blocks","created_at":"2026-01-28T02:16:50.899871Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-3u4","title":"Test child task","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T01:45:26.749208Z","created_by":"npratt","updated_at":"2026-01-28T01:46:00.478074Z","closed_at":"2026-01-28T01:46:00.478028Z","close_reason":"Test complete","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-3u4","depends_on_id":"bd-2yg","type":"parent-child","created_at":"2026-01-28T01:45:36.749066Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-9lb","title":"Add structural hierarchy tests for graph rendering","description":"# Overview\nAdd tests that validate the actual tree structure in render output, not just string presence. Current tests use strings.Contains which passes even if hierarchy is broken.\n\n# Problem\nTests in graph_test.go use patterns like:\n  if !strings.Contains(output, \"tree-glyph\") { ... }\n\nThis validates presence but not structure. Tests pass if tree glyphs appear anywhere, even on wrong lines.\n\n# Implementation\n\n## New Tests (graph_test.go, graph_integration_test.go)\n\n1. TestGraph_RenderHierarchy_TreeStructure\n   - Create graph with epic + 2 children\n   - Parse render output line-by-line\n   - Verify epic at depth 0 (no tree glyphs)\n   - Verify children at depth 1 (with tree glyphs)\n   - Verify children appear AFTER parent\n\n2. TestGraph_RenderHierarchy_FlatWhenNoEdges\n   - Create graph from unenriched beads (no Dependencies)\n   - Verify output is flat (no indentation, no tree connectors)\n   - All beads at depth 0\n\n3. TestGraph_RenderHierarchy_CollapsedEpic\n   - Create graph with epic + children\n   - Collapse epic\n   - Verify children NOT in output\n   - Verify epic shows +N indicator\n\n4. TestGraph_CyclicData_Terminates\n   - Create beads with circular parent-child references\n   - Verify DFS terminates (no infinite loop)\n   - Verify visited protection works\n\n## Helper Function\n\nfunc parseTreeStructure(output string) map[string]TreeNode {\n    // Parse each line to extract:\n    // - bead ID\n    // - indentation level (depth)\n    // - tree glyph type (none/branch/last)\n    // - line number (order)\n}\n\ntype TreeNode struct {\n    ID       string\n    Depth    int\n    LineNum  int\n    HasGlyph bool\n}\n\n## Structural Validation\n\nfunc TestGraph_RenderHierarchy_TreeStructure(t *testing.T) {\n    // Setup enriched beads with parent-child relationships\n    beads := []GraphBead{...}\n    g := NewGraph(cfg, mockFetcher, \"horizontal\")\n    g.RebuildFromBeads(beads)\n    \n    output := g.Render(80, 30)\n    structure := parseTreeStructure(output)\n    \n    // Epic at depth 0, no glyph\n    epic := structure[\"bd-epic-001\"]\n    assert.Equal(t, 0, epic.Depth)\n    assert.False(t, epic.HasGlyph)\n    \n    // Children at depth 1, with glyphs, after parent\n    child := structure[\"bd-task-001\"]\n    assert.Equal(t, 1, child.Depth)\n    assert.True(t, child.HasGlyph)\n    assert.Greater(t, child.LineNum, epic.LineNum)\n}\n\n# Acceptance Criteria\n- Tests validate tree structure, not just string presence\n- Flat hierarchy correctly detected when no edges\n- Collapse behavior tested with structural validation\n- Cyclic data handling tested\n\n# Dependencies\n- Requires Issue 3 (realistic fixtures)\n- Requires Issue 4 (Parent fallback) for proper edge creation\n\n# Verification\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:15:24.282439Z","created_by":"npratt","updated_at":"2026-01-28T02:17:34.001925Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-9lb","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:17.764373Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-btd","title":"Persist active top-level and integrate with controller","description":"# Description\nAdd state persistence for the active top-level item and integrate the new selection mode into the controller's main loop.\n\n# Technical Approach\n1. State persistence (internal/events/statesink.go):\n   - Add ActiveTopLevel field to State struct (ID string)\n   - Add ActiveTopLevelTitle field for display\n   - Persist/restore in state.json\n\n2. Controller integration (internal/controller/controller.go):\n   - Check config.WorkQueue.SelectionMode at startup\n   - Use workqueue.NextTopLevel() when mode is \"top-level\"\n   - Use existing workqueue.Next() when mode is \"global\"\n   - Pass activeTopLevel state to workqueue on restore\n   - Implement eager_switch check after each bead completion\n\n3. Resume verification:\n   - On startup/restore, verify activeTopLevel has ready descendants\n   - Clear and re-select if not\n\n# Key Files\n- internal/events/statesink.go - state persistence\n- internal/events/types.go - State struct\n- internal/controller/controller.go - main loop integration\n- internal/workqueue/queue.go - state getter/setter for activeTopLevel\n\n# Acceptance Criteria\n- [ ] ActiveTopLevel persisted in state.json\n- [ ] Controller uses correct selection method based on mode\n- [ ] Resume verifies active item before continuing\n- [ ] eager_switch works when enabled\n- [ ] --epic flag takes precedence over selection mode\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n\nIf implementation reveals new issues, create separate issues for investigation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-20T23:04:48.310165Z","created_by":"npratt","updated_at":"2026-01-20T23:18:45.606644Z","closed_at":"2026-01-20T23:18:45.606593Z","close_reason":"Work completed and verified: Controller integration for top-level selection mode implemented in commit 867a70b. State persistence for activeTopLevel, selection mode branching, eager_switch support, and epic flag precedence all working. Lint and tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-btd","depends_on_id":"bd-1a8","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-btd","depends_on_id":"bd-3cc","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-enq","title":"Validate epic at controller startup","description":"# Description\nWhen an epic ID is configured, validate it exists and is type=epic before starting the work loop. Fail fast with clear error if invalid.\n\n# Technical Approach\n1. Add validation method to controller that calls `br show <epic-id> --json`\n2. Parse response and verify `issue_type == \"epic\"`\n3. If epic doesn't exist or isn't an epic type, return error with clear message\n4. Call validation in controller Start() before entering main loop\n5. Store validated epic info (ID, title) for TUI display\n\n# Relevant Files\n- internal/controller/controller.go - Start() method, validation logic\n- internal/workqueue/queue.go - reference for br command execution pattern\n\n# Acceptance Criteria\n- [ ] Invalid epic ID causes startup failure with \"epic not found: bd-xxx\"\n- [ ] Non-epic bead ID causes failure with \"bd-xxx is not an epic (type: task)\"\n- [ ] Valid epic allows normal startup\n- [ ] Epic title stored for later TUI display\n\n# Verification\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] Manual test: `atari start --epic bd-nonexistent` fails cleanly\n\nIf implementation reveals new issues, create separate issues for investigation.","notes":"Atari: main session and follow-up both failed to close bead. Resetting to open for manual review or retry.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:40:52.498845Z","created_by":"npratt","updated_at":"2026-01-20T21:57:55.864520Z","closed_at":"2026-01-20T21:57:55.864441Z","close_reason":"Verified implementation already complete: validateEpic() in controller.go handles invalid epic ID, non-epic type, and stores validated epic info. Tests in controller_test.go cover all cases. Manual tests confirm clean failures with proper error messages.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-enq","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-enq","depends_on_id":"bd-2mp","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-gk3","title":"Fix enrichment race condition with panic recovery","description":"\u001b[3m\u001b[32m# Overview\u001b[0m\nFix\u001b[37m \u001b[0mrace\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mcondition\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0menrichBeadsWithDetails\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwhere\u001b[0m\u001b[37m \u001b[0mearly\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mreturn\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0mcontext\u001b[37m \u001b[0mcancellation\u001b[37m \u001b[0mcan\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mleave\u001b[0m\u001b[37m \u001b[0mgoroutines\u001b[37m \u001b[0mstill\u001b[37m \u001b[0mwriting\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mthe\u001b[37m \u001b[0mresult\u001b[37m \u001b[0mslice.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0mpanic\u001b[37m \u001b[0mrecovery\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mprevent\u001b[37m \u001b[0mhangs.\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Problem\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mIn\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mfetcher.go:\u001b[1m\u001b[30m140\u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m179\u001b[0m\u001b[1m\u001b[30m`\u001b[0m:\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mIf\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0msem.Acquire\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mreturns\u001b[37m \u001b[0m\u001b[32merror\u001b[0m\u001b[37m \u001b[0m(ctx\u001b[37m \u001b[0mcancelled),\u001b[37m \u001b[0mfunction\u001b[37m \u001b[0mreturns\u001b[37m \u001b[0mimmediately\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwhile\u001b[0m\u001b[37m \u001b[0mgoroutines\u001b[37m \u001b[0mmay\u001b[37m \u001b[0mstill\u001b[37m \u001b[0mbe\u001b[37m \u001b[0mrunning\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mIf\u001b[0m\u001b[37m \u001b[0ma\u001b[37m \u001b[0mgoroutine\u001b[37m \u001b[0mpanics,\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mwg.\u001b[32mDone\u001b[0m()\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0mnever\u001b[37m \u001b[0mcalled,\u001b[37m \u001b[0mcausing\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mwg.\u001b[32mWait\u001b[0m()\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mhang\u001b[37m \u001b[0mforever\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Implementation\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0mAlways\u001b[37m \u001b[0mwait\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mstarted\u001b[37m \u001b[0mgoroutines\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mbefore\u001b[0m\u001b[37m \u001b[0mreturning,\u001b[37m \u001b[0meven\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0merror\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0mpanic\u001b[37m \u001b[0mrecovery\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mgoroutine\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0mdefer\u001b[1m\u001b[30m/\u001b[0mrecover\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m3\u001b[0m.\u001b[37m \u001b[0mSurface\u001b[37m \u001b[0mpanic\u001b[37m \u001b[0minformation\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mcaller\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m## Code Changes\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m`\u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mfetcher.go:\u001b[1m\u001b[30m152\u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[1m\u001b[30m175\u001b[0m\u001b[1m\u001b[30m`\u001b[0m:\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0mgo\u001b[37m\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0mi\u001b[37m \u001b[0m:\u001b[1m\u001b[30m=\u001b[0m\u001b[37m \u001b[0mrange\u001b[37m \u001b[0mbeads\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0m\u001b[1m\u001b[1m\u001b[35mif\u001b[0m\u001b[37m \u001b[0merr\u001b[37m \u001b[0m:\u001b[1m\u001b[30m=\u001b[0m\u001b[37m \u001b[0msem.\u001b[32mAcquire\u001b[0m(ctx,\u001b[37m \u001b[0m\u001b[1m\u001b[30m1\u001b[0m);\u001b[37m \u001b[0merr\u001b[37m \u001b[0m\u001b[1m\u001b[30m!=\u001b[0m\u001b[37m \u001b[0mnil\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m        \u001b[0mwg.\u001b[32mWait\u001b[0m()\u001b[37m  \u001b[0m\u001b[1m\u001b[30m//\u001b[0m\u001b[37m \u001b[0mWait\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0malready\u001b[1m\u001b[30m-\u001b[0mstarted\u001b[37m \u001b[0mgoroutines\u001b[37m\u001b[0m\n\u001b[37m        \u001b[0m\u001b[1m\u001b[1m\u001b[35mreturn\u001b[0m\u001b[37m \u001b[0mresult,\u001b[37m \u001b[0merr\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0m}\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0mwg.\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m(\u001b[1m\u001b[30m1\u001b[0m)\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0mgo\u001b[37m \u001b[0m\u001b[32mfunc\u001b[0m(idx\u001b[37m \u001b[0m\u001b[1m\u001b[32mint\u001b[0m)\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m        \u001b[0mdefer\u001b[37m \u001b[0m\u001b[32mfunc\u001b[0m()\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m            \u001b[0m\u001b[1m\u001b[1m\u001b[35mif\u001b[0m\u001b[37m \u001b[0mr\u001b[37m \u001b[0m:\u001b[1m\u001b[30m=\u001b[0m\u001b[37m \u001b[0m\u001b[32mrecover\u001b[0m();\u001b[37m \u001b[0mr\u001b[37m \u001b[0m\u001b[1m\u001b[30m!=\u001b[0m\u001b[37m \u001b[0mnil\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m                \u001b[0mslog.\u001b[32mError\u001b[0m(\u001b[1m\u001b[30m\"panic in bead enrichment\"\u001b[0m,\u001b[37m \u001b[0m\n\u001b[37m                    \u001b[0m\u001b[1m\u001b[30m\"bead_id\"\u001b[0m,\u001b[37m \u001b[0mbeads[idx].ID,\u001b[37m \u001b[0m\n\u001b[37m                    \u001b[0m\u001b[1m\u001b[30m\"panic\"\u001b[0m,\u001b[37m \u001b[0mr,\u001b[37m\u001b[0m\n\u001b[37m                    \u001b[0m\u001b[1m\u001b[30m\"stack\"\u001b[0m,\u001b[37m \u001b[0m\u001b[32mstring\u001b[0m(debug.\u001b[32mStack\u001b[0m()))\u001b[37m\u001b[0m\n\u001b[37m                \u001b[0mmu.\u001b[1m\u001b[1m\u001b[35mLock\u001b[0m()\u001b[37m\u001b[0m\n\u001b[37m                \u001b[0mpanicOccurred\u001b[37m \u001b[0m\u001b[1m\u001b[30m=\u001b[0m\u001b[37m \u001b[0m\u001b[31mtrue\u001b[0m\u001b[37m\u001b[0m\n\u001b[37m                \u001b[0mmu.\u001b[1m\u001b[1m\u001b[35mUnlock\u001b[0m()\u001b[37m\u001b[0m\n\u001b[37m            \u001b[0m}\u001b[37m\u001b[0m\n\u001b[37m            \u001b[0mwg.\u001b[32mDone\u001b[0m()\u001b[37m\u001b[0m\n\u001b[37m            \u001b[0msem.\u001b[1m\u001b[1m\u001b[35mRelease\u001b[0m(\u001b[1m\u001b[30m1\u001b[0m)\u001b[37m\u001b[0m\n\u001b[37m        \u001b[0m}()\u001b[37m\u001b[0m\n\u001b[37m        \u001b[0m\n\u001b[37m        \u001b[0m\u001b[1m\u001b[30m//\u001b[0m\u001b[37m \u001b[0m...\u001b[37m \u001b[0mrest\u001b[37m \u001b[0mof\u001b[37m \u001b[0mgoroutine\u001b[37m \u001b[0mbody\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0m}(i)\u001b[37m\u001b[0m\n}\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\nwg.\u001b[32mWait\u001b[0m()\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mif\u001b[0m\u001b[37m \u001b[0mpanicOccurred\u001b[37m \u001b[0m{\u001b[37m\u001b[0m\n\u001b[37m    \u001b[0m\u001b[1m\u001b[1m\u001b[35mreturn\u001b[0m\u001b[37m \u001b[0mresult,\u001b[37m \u001b[0mfmt.\u001b[32mErrorf\u001b[0m(\u001b[1m\u001b[30m\"panic occurred during bead enrichment\"\u001b[0m)\u001b[37m\u001b[0m\n}\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0m\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mwg.\u001b[32mWait\u001b[0m()\u001b[37m \u001b[0mcalled\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mbefore\u001b[0m\u001b[37m \u001b[0mreturning\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mon\u001b[0m\u001b[37m \u001b[0mctx\u001b[37m \u001b[0mcancellation\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mPanic\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mgoroutine\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mis\u001b[0m\u001b[37m \u001b[0mrecovered\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0mlogged\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mPanic\u001b[37m \u001b[0mdoes\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m\u001b[37m \u001b[0mhang\u001b[37m \u001b[0mthe\u001b[37m \u001b[0mfunction\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mTest\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0mrace\u001b[37m \u001b[0mflag\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mTest\u001b[37m \u001b[0mverifies\u001b[37m \u001b[0mpanic\u001b[37m \u001b[0mrecovery\u001b[37m \u001b[0mbehavior\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mlint\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mtest\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mgo\u001b[37m \u001b[0mtest\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0mrace\u001b[37m \u001b[0m.\u001b[1m\u001b[30m/\u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0m...\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m","status":"in_progress","priority":2,"issue_type":"task","created_at":"2026-01-28T02:14:12.247806Z","created_by":"npratt","updated_at":"2026-01-28T02:56:03.870363Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-gk3","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:13.648194Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-jje","title":"Test blocker bead","description":"Testing blocking deps","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:07:59.956366Z","created_by":"npratt","updated_at":"2026-01-20T23:08:00.380259Z","closed_at":"2026-01-20T23:08:00.380217Z","close_reason":"Test cleanup","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-mez","title":"Fix GraphPane height calculation bug","description":"# Problem\n\nGraphPane.View() calculates content height incorrectly, resulting in 2 lines of wasted space at bottom of panel.\n\n# Root Cause\n\nIn GraphPane.View() where contentHeight is calculated:\n```go\ncontentHeight := safeHeight(p.height - 3) // Account for status bar and padding\n```\n\nSubtracts 3 but actual layout is:\n- Status bar: 1 line\n- Graph content: remaining lines\n- Total should equal p.height\n\nShould be `p.height - 1` (only status bar).\n\n# Implementation\n\n1. Change contentHeight calculation from `p.height - 3` to `p.height - 1`\n2. Clean up or document the redundant viewport setup in SetSize() - it gets overwritten by renderGraph()\n3. Update comment to accurately describe what is being accounted for\n\n# Files to Modify\n\n- internal/tui/graph_pane.go - View() method where contentHeight is calculated\n- internal/tui/graph_pane.go - SetSize() method viewport setup (cleanup)\n\n# Acceptance Criteria\n\n- GraphPane renders content that fills available height (no blank space at bottom)\n- Existing tests continue to pass\n- Height calculation comment accurately describes the subtraction\n\n# Verification\n\n- [ ] `mise run lint` passes\n- [ ] `mise run test` passes\n- [ ] Manual verification: resize terminal and confirm beads fill available space","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-28T02:13:12.282409Z","created_by":"npratt","updated_at":"2026-01-28T02:52:50.853820Z","closed_at":"2026-01-28T02:52:50.853760Z","close_reason":"Already fixed in commit 6582a27: Changed contentHeight calculation from p.height-3 to p.height-1, accounting only for status bar. Verified lint and tests pass.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-mez","depends_on_id":"bd-244","type":"parent-child","created_at":"2026-01-28T02:17:06.796688Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-nqi","title":"Fix Parent field fallback and dependency_type handling","description":"# Overview\nAdd fallback edge creation from GraphBead.Parent field when Dependencies array is empty. Also fix brittle string matching for dependency_type.\n\n# Problem\n1. GraphBead.Parent field exists but is never used for edge creation - only Dependencies array is used\n2. If enrichment fails, beads retain basic data with Parent field but no Dependencies, losing hierarchy\n3. dependency_type matching is exact string (line 168), vulnerable to case differences\n\n# Implementation\n\n## Parent Fallback (graph_types.go:163-179)\n\nAfter processing Dependencies array in ExtractEdges(), add fallback:\n\nif b.Parent is set AND no parent-child edge was created from Dependencies,\nsynthesize a hierarchy edge from Parent to this bead.\nDeduplicate to avoid double edges when both sources agree.\n\n## dependency_type Normalization (graph_types.go:168)\n\nUse case-insensitive matching:\n- strings.EqualFold(dep.DependencyType, \"parent-child\")\n- Also match \"parent_child\" variant\n- Treat missing/empty dependency_type as EdgeDependency (not hierarchy)\n\n## Code Changes\n\ngraph_types.go ExtractEdges():\n\nfunc (b *GraphBead) ExtractEdges() []GraphEdge {\n    var edges []GraphEdge\n    hasParentEdge := false\n    \n    for _, dep := range b.Dependencies {\n        edgeType := EdgeDependency\n        depType := strings.ToLower(dep.DependencyType)\n        if depType == \"parent-child\" || depType == \"parent_child\" {\n            edgeType = EdgeHierarchy\n            if dep.ID == b.Parent {\n                hasParentEdge = true\n            }\n        }\n        edges = append(edges, GraphEdge{From: dep.ID, To: b.ID, Type: edgeType})\n    }\n    \n    // Fallback: use Parent field if no parent-child dependency found\n    if b.Parent != \"\" && !hasParentEdge {\n        edges = append(edges, GraphEdge{From: b.Parent, To: b.ID, Type: EdgeHierarchy})\n    }\n    \n    return edges\n}\n\n# Acceptance Criteria\n- Parent field used as fallback when no parent-child dependency exists\n- No duplicate edges when Parent and Dependencies agree\n- Case-insensitive dependency_type matching works\n- Missing dependency_type treated as non-hierarchy\n- Tests cover all variants\n\n# Verification\n- mise run lint passes\n- mise run test passes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-28T02:14:48.086449Z","created_by":"npratt","updated_at":"2026-01-28T02:17:32.302557Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-nqi","depends_on_id":"bd-2hs","type":"parent-child","created_at":"2026-01-28T02:17:15.710926Z","created_by":"npratt","metadata":"{}","thread_id":""}]}
{"id":"bd-ooh","title":"Test blocked bead","description":"Should be blocked by bd-jje","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T23:08:00.046150Z","created_by":"npratt","updated_at":"2026-01-20T23:08:00.426236Z","closed_at":"2026-01-20T23:08:00.426195Z","close_reason":"Test cleanup","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-ooh","depends_on_id":"bd-jje","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-rc4","title":"Simplify README for public release","description":"\u001b[3m\u001b[32m# Description\u001b[0m\nRewrite README\u001b[1m\u001b[30m.\u001b[0mmd to be minimal \u001b[1m\u001b[1m\u001b[35mand\u001b[0m focused on quick start\u001b[1m\u001b[30m.\u001b[0m Current README has too much detail; detailed docs should live \u001b[1m\u001b[1m\u001b[35min\u001b[0m docs\u001b[1m\u001b[30m/\u001b[0m folder\u001b[1m\u001b[30m.\u001b[0m\n\n\u001b[3m\u001b[32m# Requirements\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Update GitHub URL to navarrepratt\u001b[1m\u001b[30m/\u001b[0matari\n\u001b[1m\u001b[30m-\u001b[0m Brief intro: what atari does (automated bead processing with Claude Code)\n\u001b[1m\u001b[30m-\u001b[0m Prerequisites: Claude Code CLI, br CLI (link to beads_rust repo)\n\u001b[1m\u001b[30m-\u001b[0m Quick start: atari init, atari start\n\u001b[1m\u001b[30m-\u001b[0m Link to detailed documentation \u001b[1m\u001b[1m\u001b[35min\u001b[0m docs\u001b[1m\u001b[30m/\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Single worker limitation note\n\u001b[1m\u001b[30m-\u001b[0m Development section (mise run commands)\n\u001b[1m\u001b[30m-\u001b[0m License\n\n\u001b[3m\u001b[32m# Remove from README\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m Detailed architecture diagram\n\u001b[1m\u001b[30m-\u001b[0m Extensive CLI reference (move to docs)\n\u001b[1m\u001b[30m-\u001b[0m Problem statement section (keep brief)\n\u001b[1m\u001b[30m-\u001b[0m Detailed configuration examples\n\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] README is under \u001b[1m\u001b[30m150\u001b[0m lines\n\u001b[1m\u001b[30m-\u001b[0m [ ] GitHub URL is navarrepratt\u001b[1m\u001b[30m/\u001b[0matari\n\u001b[1m\u001b[30m-\u001b[0m [ ] Links to beads_rust \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m br installation\n\u001b[1m\u001b[30m-\u001b[0m [ ] Links to docs\u001b[1m\u001b[30m/\u001b[0m \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m detailed documentation\n\u001b[1m\u001b[30m-\u001b[0m [ ] Quick start works \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m new user\n\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m [ ] All links \u001b[1m\u001b[1m\u001b[35min\u001b[0m README are valid\n\u001b[1m\u001b[30m-\u001b[0m [ ] `mise run lint` passes\n\nIf implementation reveals new issues, create separate issues \u001b[1m\u001b[1m\u001b[35mfor\u001b[0m investigation\u001b[1m\u001b[30m.\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-23T17:42:09.312416Z","created_by":"npratt","updated_at":"2026-01-23T17:48:25.933006Z","closed_at":"2026-01-23T17:48:25.932907Z","close_reason":"Simplified README from 287 to 102 lines. Updated GitHub URL to navarrepratt/atari, added prerequisites with beads_rust link, streamlined quick start, noted single worker limitation, linked to docs/ for detailed documentation. All links verified, lint passes.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-rc4","depends_on_id":"bd-2j0","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-rc4","depends_on_id":"bd-3cu","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
{"id":"bd-wpi","title":"Display epic filter in TUI status","description":"\u001b[3m\u001b[32m# Description\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mShow\u001b[0m\u001b[37m \u001b[0mthe\u001b[37m \u001b[0mactive\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mfilter\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mthe\u001b[37m \u001b[0mTUI\u001b[37m \u001b[0mstatus\u001b[37m \u001b[0mdisplay\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mas\u001b[0m\u001b[37m \u001b[0ma\u001b[37m \u001b[0msuffix,\u001b[37m \u001b[0me.g.,\u001b[37m \u001b[0m\u001b[1m\u001b[30m\"idle (epic: bd-xxx)\"\u001b[0m.\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Technical Approach\u001b[0m\n\u001b[1m\u001b[30m1\u001b[0m.\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mAdd\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mEpicID\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mEpicTitle\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mfields\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mTUI\u001b[37m \u001b[0m\u001b[32mmodel\u001b[0m\u001b[37m \u001b[0m(\u001b[1m\u001b[32mset\u001b[0m\u001b[37m \u001b[0mvia\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mOption\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mor\u001b[0m\u001b[37m \u001b[0mmessage)\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m2\u001b[0m.\u001b[37m \u001b[0mPass\u001b[37m \u001b[0mepic\u001b[37m \u001b[0minfo\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfrom\u001b[0m\u001b[37m \u001b[0mcontroller\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mTUI\u001b[37m \u001b[0mat\u001b[37m \u001b[0mstartup\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m3\u001b[0m.\u001b[37m \u001b[0mModify\u001b[37m \u001b[0mstatus\u001b[37m \u001b[0mrendering\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35min\u001b[0m\u001b[37m \u001b[0mview.go\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mto\u001b[0m\u001b[37m \u001b[0mappend\u001b[37m \u001b[0m\u001b[1m\u001b[30m\"(epic: bd-xxx)\"\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwhen\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[32mset\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m4\u001b[0m.\u001b[37m \u001b[0mKeep\u001b[37m \u001b[0msuffix\u001b[37m \u001b[0mconcise\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mjust\u001b[37m \u001b[0mID,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m\u001b[37m \u001b[0mfull\u001b[37m \u001b[0m\u001b[32mtitle\u001b[0m\u001b[37m \u001b[0m(space\u001b[37m \u001b[0mconstrained)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Relevant Files\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mmodel.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mmodel\u001b[37m \u001b[0mstruct,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mOption\u001b[0m\u001b[37m \u001b[0mfunctions\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mview.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m\u001b[32mrenderHeader\u001b[0m()\u001b[37m \u001b[0mstatus\u001b[37m \u001b[0mline\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0minternal\u001b[1m\u001b[30m/\u001b[0mtui\u001b[1m\u001b[30m/\u001b[0mtui.go\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m\u001b[32mNew\u001b[0m()\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mand\u001b[0m\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mOption\u001b[0m\u001b[37m \u001b[0mpattern\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Example Output\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0m\u001b[37m\u001b[0m\nStatus:\u001b[37m \u001b[0m\u001b[32midle\u001b[0m\u001b[37m \u001b[0m(epic:\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0mabc)\u001b[37m\u001b[0m\nbead:\u001b[37m \u001b[0mbd\u001b[1m\u001b[30m-\u001b[0mxyz\u001b[37m \u001b[0m\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0mImplement\u001b[37m \u001b[0mfeature\u001b[37m \u001b[0m[\u001b[1m\u001b[30m5\u001b[0mm\u001b[37m \u001b[0m\u001b[1m\u001b[30m32\u001b[0ms]\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m```\u001b[0m\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Acceptance Criteria\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mWhen\u001b[0m\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mfilter\u001b[37m \u001b[0mactive,\u001b[37m \u001b[0mstatus\u001b[37m \u001b[0mshows\u001b[37m \u001b[0m\u001b[1m\u001b[30m\"(epic: bd-xxx)\"\u001b[0m\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mWhen\u001b[0m\u001b[37m \u001b[0mno\u001b[37m \u001b[0mepic\u001b[37m \u001b[0mfilter,\u001b[37m \u001b[0mstatus\u001b[37m \u001b[0munchanged\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfrom\u001b[0m\u001b[37m \u001b[0mcurrent\u001b[37m \u001b[0mbehavior\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mSuffix\u001b[37m \u001b[0mtruncated\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mif\u001b[0m\u001b[37m \u001b[0mterminal\u001b[37m \u001b[0mtoo\u001b[37m \u001b[0m\u001b[32mnarrow\u001b[0m\u001b[37m \u001b[0m(status\u001b[37m \u001b[0mline\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mnot\u001b[0m\u001b[37m \u001b[0mwrapped)\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[3m\u001b[32m# Verification\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mlint\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0m\u001b[1m\u001b[30m`\u001b[0mmise\u001b[37m \u001b[0mrun\u001b[37m \u001b[0mtest\u001b[1m\u001b[30m`\u001b[0m\u001b[37m \u001b[0mpasses\u001b[37m\u001b[0m\n\u001b[1m\u001b[30m-\u001b[0m\u001b[37m \u001b[0m[\u001b[37m \u001b[0m]\u001b[37m \u001b[0mVisual\u001b[37m \u001b[0mverification\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mwith\u001b[0m\u001b[37m \u001b[0mTUI\u001b[37m \u001b[0mrunning\u001b[37m\u001b[0m\n\u001b[37m\u001b[0m\n\u001b[1m\u001b[1m\u001b[35mIf\u001b[0m\u001b[37m \u001b[0mimplementation\u001b[37m \u001b[0mreveals\u001b[37m \u001b[0mnew\u001b[37m \u001b[0missues,\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mcreate\u001b[0m\u001b[37m \u001b[0mseparate\u001b[37m \u001b[0missues\u001b[37m \u001b[0m\u001b[1m\u001b[1m\u001b[35mfor\u001b[0m\u001b[37m \u001b[0minvestigation.\u001b[37m\u001b[0m","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-20T21:41:14.199702Z","created_by":"npratt","updated_at":"2026-01-20T22:11:14.778753Z","closed_at":"2026-01-20T22:11:14.778710Z","close_reason":"Completed: Added epicID field to TUI model, WithEpicID option function, and modified renderStatus() to show epic suffix. When epic filter is active, status line shows 'IDLE (epic: bd-xxx)'. All tests pass, lint clean.","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-wpi","depends_on_id":"bd-1j7","type":"parent-child","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""},{"issue_id":"bd-wpi","depends_on_id":"bd-2mp","type":"blocks","created_at":"2026-01-23T19:11:49Z","created_by":"import","metadata":"{}","thread_id":""}]}
